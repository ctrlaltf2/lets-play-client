/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/Main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./src/js/Display.js":
/*!***************************!*\
  !*** ./src/js/Display.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction Display() {\n    var trueWidth = -1,\n        trueHeight = -1;\n\n    var canvas = document.getElementById('screen');\n    var ctx = canvas.getContext('2d');\n\n    ctx.imageSmoothingEnabled = false;\n    ctx.mozImageSmoothingEnabled = false;\n    ctx.oImageSmoothingEnabled = false;\n    ctx.webkitImageSmoothingEnabled = false;\n    ctx.msImageSmoothingEnabled = false;\n    ctx.filter = 'saturate(130%)'; // A little bit of saturation won't hurt (experimental feature so some stuff might not see this but its not important)\n\n    this.update = function(imgdata) {\n        var bytearray = new Uint8Array(imgdata);\n        var binstr = Array.prototype.map.call(bytearray, function (ch) {\n            return String.fromCharCode(ch);\n        }).join('');\n        var b64encoded = btoa(binstr);\n\n        let image = new Image();\n        image.addEventListener('load', function() {\n            if (canvas.getContext) {\n                if(trueWidth != image.width || trueHeight != image.height) {\n                    trueWidth = image.width;\n                    trueHeight = image.height;\n\n                    let aspectRatio = image.width / image.height;\n                    // Better ways to do this, but Google doesn't know how to implement a standard...\n                    let oneRem = parseFloat(getComputedStyle(document.documentElement).fontSize);\n                    let maxCanvasHeight = parseFloat(window.getComputedStyle(document.getElementsByClassName('display-container')[0]).height) - (2 * oneRem);\n\n                    let newWidth = aspectRatio * maxCanvasHeight;\n                    let newHeight = maxCanvasHeight;\n\n                    canvas.width = newWidth;\n                    canvas.height = newHeight;\n\n                    document.getElementById('screen').style.height = newHeight + 'px !important';\n                    document.getElementById('screen').style.width = newWidth + 'px !important';\n                }\n                ctx.imageSmoothingEnabled = false;\n                ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n            }\n        });\n        image.src = 'data:image/jpeg;base64,' + b64encoded;\n    }\n\n    this.drawSMPTEBars = function(canvas, ctx) {\n        let width = canvas.width,\n            height = canvas.height;\n\n\n        let colors = [\n            ['fff', 'ffe500', '00ffd7', '0fe000', 'ff00fe', 'e30013', '0000ff'],\n            ['0000ff', '353535', 'ff00fe', '676767', '00ffd7', '353535', 'fff'],\n            ['006261', 'fff', '00196b', '676767', '8d8d8d', '353535']\n        ];\n\n        let heights = [\n            75,\n            5,\n            20\n        ];\n\n        let cX = 0, cY = 0;\n        for(let row in colors) {\n            let rowHeight = heights[row] / 100 * height;\n            let cellWidth = width / colors[row].length;\n            for(let i in colors[row]) {\n                ctx.fillStyle = '#' + colors[row][i];\n                ctx.fillRect(cX, cY, cellWidth, rowHeight);\n                cX += cellWidth;\n            }\n            cY += rowHeight;\n            cX = 0;\n        }\n        ctx.fillStyle = '#000';\n        ctx.fillRect(0, (height - (height / 5) - (height * .05)) / 2, width, (height / 5) + (height * .05));\n\n        ctx.font = Math.floor((height / 5 )) + 'px monospace';\n        ctx.textBaseline = 'middle';\n        ctx.textAlign = 'center';\n        ctx.fillStyle = '#fff';\n        ctx.fillText('NO SIGNAL', width / 2, height / 2);\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Display);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvRGlzcGxheS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9EaXNwbGF5LmpzP2EwYzciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gRGlzcGxheSgpIHtcbiAgICB2YXIgdHJ1ZVdpZHRoID0gLTEsXG4gICAgICAgIHRydWVIZWlnaHQgPSAtMTtcblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJyk7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHgub0ltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIGN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHguZmlsdGVyID0gJ3NhdHVyYXRlKDEzMCUpJzsgLy8gQSBsaXR0bGUgYml0IG9mIHNhdHVyYXRpb24gd29uJ3QgaHVydCAoZXhwZXJpbWVudGFsIGZlYXR1cmUgc28gc29tZSBzdHVmZiBtaWdodCBub3Qgc2VlIHRoaXMgYnV0IGl0cyBub3QgaW1wb3J0YW50KVxuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihpbWdkYXRhKSB7XG4gICAgICAgIHZhciBieXRlYXJyYXkgPSBuZXcgVWludDhBcnJheShpbWdkYXRhKTtcbiAgICAgICAgdmFyIGJpbnN0ciA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChieXRlYXJyYXksIGZ1bmN0aW9uIChjaCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgdmFyIGI2NGVuY29kZWQgPSBidG9hKGJpbnN0cik7XG5cbiAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGlmKHRydWVXaWR0aCAhPSBpbWFnZS53aWR0aCB8fCB0cnVlSGVpZ2h0ICE9IGltYWdlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0cnVlV2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZUhlaWdodCA9IGltYWdlLmhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgYXNwZWN0UmF0aW8gPSBpbWFnZS53aWR0aCAvIGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQmV0dGVyIHdheXMgdG8gZG8gdGhpcywgYnV0IEdvb2dsZSBkb2Vzbid0IGtub3cgaG93IHRvIGltcGxlbWVudCBhIHN0YW5kYXJkLi4uXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmVSZW0gPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5mb250U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhDYW52YXNIZWlnaHQgPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Rpc3BsYXktY29udGFpbmVyJylbMF0pLmhlaWdodCkgLSAoMiAqIG9uZVJlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dpZHRoID0gYXNwZWN0UmF0aW8gKiBtYXhDYW52YXNIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdIZWlnaHQgPSBtYXhDYW52YXNIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHggIWltcG9ydGFudCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJyArIGI2NGVuY29kZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3U01QVEVCYXJzID0gZnVuY3Rpb24oY2FudmFzLCBjdHgpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuXG4gICAgICAgIGxldCBjb2xvcnMgPSBbXG4gICAgICAgICAgICBbJ2ZmZicsICdmZmU1MDAnLCAnMDBmZmQ3JywgJzBmZTAwMCcsICdmZjAwZmUnLCAnZTMwMDEzJywgJzAwMDBmZiddLFxuICAgICAgICAgICAgWycwMDAwZmYnLCAnMzUzNTM1JywgJ2ZmMDBmZScsICc2NzY3NjcnLCAnMDBmZmQ3JywgJzM1MzUzNScsICdmZmYnXSxcbiAgICAgICAgICAgIFsnMDA2MjYxJywgJ2ZmZicsICcwMDE5NmInLCAnNjc2NzY3JywgJzhkOGQ4ZCcsICczNTM1MzUnXVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBoZWlnaHRzID0gW1xuICAgICAgICAgICAgNzUsXG4gICAgICAgICAgICA1LFxuICAgICAgICAgICAgMjBcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgY1ggPSAwLCBjWSA9IDA7XG4gICAgICAgIGZvcihsZXQgcm93IGluIGNvbG9ycykge1xuICAgICAgICAgICAgbGV0IHJvd0hlaWdodCA9IGhlaWdodHNbcm93XSAvIDEwMCAqIGhlaWdodDtcbiAgICAgICAgICAgIGxldCBjZWxsV2lkdGggPSB3aWR0aCAvIGNvbG9yc1tyb3ddLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiBjb2xvcnNbcm93XSkge1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIycgKyBjb2xvcnNbcm93XVtpXTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoY1gsIGNZLCBjZWxsV2lkdGgsIHJvd0hlaWdodCk7XG4gICAgICAgICAgICAgICAgY1ggKz0gY2VsbFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY1kgKz0gcm93SGVpZ2h0O1xuICAgICAgICAgICAgY1ggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAoaGVpZ2h0IC0gKGhlaWdodCAvIDUpIC0gKGhlaWdodCAqIC4wNSkpIC8gMiwgd2lkdGgsIChoZWlnaHQgLyA1KSArIChoZWlnaHQgKiAuMDUpKTtcblxuICAgICAgICBjdHguZm9udCA9IE1hdGguZmxvb3IoKGhlaWdodCAvIDUgKSkgKyAncHggbW9ub3NwYWNlJztcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGN0eC5maWxsVGV4dCgnTk8gU0lHTkFMJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNwbGF5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/Display.js\n");

/***/ }),

/***/ "./src/js/GamepadManager.js":
/*!**********************************!*\
  !*** ./src/js/GamepadManager.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RetroJoypad.js */ \"./src/js/RetroJoypad.js\");\n\n\n/**\n * Threshold for the values of the analog sticks/buttons that determines whether its pressed or not.\n * @type {number}\n * @const\n */\nconst analogThreshold = 0.2;\n\nfunction GamepadManager() {\n    var self = this;\n\n    /**\n     * Controller states for the gamepads used this session.\n     * @note gamepad id -> controller state\n     */\n    this.controllerStates = {};\n\n    /**\n     * Controller button -> RetroArch ID layouts for gamepads. Saved between sessions.\n     * @note map, gamepad id -> gamepad layout\n     * @note mirrors exactly the structure of controllerStates, just a different use\n     */\n    this.controllerLayouts = {};\n\n    /**\n     * Time stamp for the last time the browser polled controller input and updated the internal button state.\n     */\n    this.lastPolledTimestamp = [];\n\n    /**\n     * IDs used for requestAnimationFrame.\n     * @note gamepad id -> int(poll input ID) relation\n     */\n    this.pollInputIDs = [];\n\n    /**\n     * Callback registered for when a gamepad is connected.\n     */\n    this.onConnect = function(evt) {\n        if(evt.gamepad.mapping === 'standard') { // Try to use standard map, if supported by controller\n            self.controllerStates[evt.gamepad.id] = self.controllerStates['standard'];\n        } else if(self.controllerStates[evt.gamepad.id] === undefined) { // Fallback on known controllerStates\n            // Unknown controller, tell the user that it will need mapped\n            console.log(\"Unknown controller plugged in. Please map it using the keybindings menu.\");\n        }\n        self.pollInput(evt.gamepad.index);\n    };\n\n    window.addEventListener(\"gamepadconnected\", this.onConnect);\n\n    /**\n     * Callback registered for when a gamepad is disconnected.\n    */\n    this.onDisconnect = function(evt) {\n        console.log(\"d/c\");\n        cancelAnimationFrame(self.pollInputIDs[evt.gamepad.id]);\n    };\n\n    window.addEventListener(\"gamepaddisconnected\", this.onDisconnect);\n\n    /**\n     * Main polling loop function that fires button press events\n     */\n    this.pollInput = function(index) {\n        let gamepad = navigator.getGamepads()[index];\n\n        // Controller unplugged but the loop started before the pollInput loop was cancelled.\n        if(gamepad === undefined)\n            return;\n\n        if(self.lastPolledTimestamp[gamepad.id] !== gamepad.timestamp) {\n            self.lastPolledTimestamp[gamepad.id] = gamepad.timestamp;\n        } else {\n            self.pollInputIDs[gamepad.id] = requestAnimationFrame(self.pollInput.bind(self.pollInput, index));\n            return;\n        }\n\n        let state = self.controllerStates[gamepad.id];\n\n        state = state || {};\n        state.buttons = state.buttons || new Array(gamepad.buttons.length);\n        state.axes = state.axes || new Array(gamepad.axes.length);\n\n        // -----------\n        for(let i = 0; i < state.buttons.length;++i) {\n            if(state.buttons[i] === undefined)\n                state.buttons[i] = false;\n\n            // If button state changed\n\n            if(gamepad.buttons[i].pressed !== state.buttons[i]) {\n                if(gamepad.buttons[i].pressed) { // down\n                    let ev = new CustomEvent('gamepadButtonPress',\n                        {detail: {\n                            player: index,\n                            id:     gamepad.id,\n                            button: i,\n                            action: 'down'\n                        }});\n                    window.dispatchEvent(ev);\n                } else { // up\n                    let ev = new CustomEvent('gamepadButtonRelease',\n                        {detail: {\n                            player: index,\n                            id:     gamepad.id,\n                            button: i,\n                            action: 'down'\n                        }});\n                    window.dispatchEvent(ev);\n                }\n            }\n            state.buttons[i] = gamepad.buttons[i].pressed;\n        }\n\n        self.controllerStates[gamepad.id] = state;\n\n        for(let i = 0; i < state.axes.length;++i) {\n            if(state.axes[i] === undefined)\n                state.axes[i] = 0;\n\n            if(gamepad.axes[i] !== state.axes[i]) {\n                let ev = new CustomEvent('gamepadAxesUpdate',\n                    {detail: {\n                        player: index,\n                        id:     gamepad.id,\n                        axes:   i,\n                        value:  {\n                            old: state.axes[i],\n                            new: gamepad.axes[i]\n                        }\n                    }});\n                window.dispatchEvent(ev);\n            }\n            state.axes[i] = gamepad.axes[i];\n        }\n\n        self.pollInputIDs[gamepad.id] = requestAnimationFrame(self.pollInput.bind(self.pollInput, index));\n    };\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamepadManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvR2FtZXBhZE1hbmFnZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvR2FtZXBhZE1hbmFnZXIuanM/NjkxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmV0cm9Kb3lwYWQgZnJvbSAnLi9SZXRyb0pveXBhZC5qcydcblxuLyoqXG4gKiBUaHJlc2hvbGQgZm9yIHRoZSB2YWx1ZXMgb2YgdGhlIGFuYWxvZyBzdGlja3MvYnV0dG9ucyB0aGF0IGRldGVybWluZXMgd2hldGhlciBpdHMgcHJlc3NlZCBvciBub3QuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbmNvbnN0IGFuYWxvZ1RocmVzaG9sZCA9IDAuMjtcblxuZnVuY3Rpb24gR2FtZXBhZE1hbmFnZXIoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogQ29udHJvbGxlciBzdGF0ZXMgZm9yIHRoZSBnYW1lcGFkcyB1c2VkIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBAbm90ZSBnYW1lcGFkIGlkIC0+IGNvbnRyb2xsZXIgc3RhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRyb2xsZXJTdGF0ZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIENvbnRyb2xsZXIgYnV0dG9uIC0+IFJldHJvQXJjaCBJRCBsYXlvdXRzIGZvciBnYW1lcGFkcy4gU2F2ZWQgYmV0d2VlbiBzZXNzaW9ucy5cbiAgICAgKiBAbm90ZSBtYXAsIGdhbWVwYWQgaWQgLT4gZ2FtZXBhZCBsYXlvdXRcbiAgICAgKiBAbm90ZSBtaXJyb3JzIGV4YWN0bHkgdGhlIHN0cnVjdHVyZSBvZiBjb250cm9sbGVyU3RhdGVzLCBqdXN0IGEgZGlmZmVyZW50IHVzZVxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbGxlckxheW91dHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgc3RhbXAgZm9yIHRoZSBsYXN0IHRpbWUgdGhlIGJyb3dzZXIgcG9sbGVkIGNvbnRyb2xsZXIgaW5wdXQgYW5kIHVwZGF0ZWQgdGhlIGludGVybmFsIGJ1dHRvbiBzdGF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RQb2xsZWRUaW1lc3RhbXAgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIElEcyB1c2VkIGZvciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXG4gICAgICogQG5vdGUgZ2FtZXBhZCBpZCAtPiBpbnQocG9sbCBpbnB1dCBJRCkgcmVsYXRpb25cbiAgICAgKi9cbiAgICB0aGlzLnBvbGxJbnB1dElEcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCBmb3Igd2hlbiBhIGdhbWVwYWQgaXMgY29ubmVjdGVkLlxuICAgICAqL1xuICAgIHRoaXMub25Db25uZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmKGV2dC5nYW1lcGFkLm1hcHBpbmcgPT09ICdzdGFuZGFyZCcpIHsgLy8gVHJ5IHRvIHVzZSBzdGFuZGFyZCBtYXAsIGlmIHN1cHBvcnRlZCBieSBjb250cm9sbGVyXG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xsZXJTdGF0ZXNbZXZ0LmdhbWVwYWQuaWRdID0gc2VsZi5jb250cm9sbGVyU3RhdGVzWydzdGFuZGFyZCddO1xuICAgICAgICB9IGVsc2UgaWYoc2VsZi5jb250cm9sbGVyU3RhdGVzW2V2dC5nYW1lcGFkLmlkXSA9PT0gdW5kZWZpbmVkKSB7IC8vIEZhbGxiYWNrIG9uIGtub3duIGNvbnRyb2xsZXJTdGF0ZXNcbiAgICAgICAgICAgIC8vIFVua25vd24gY29udHJvbGxlciwgdGVsbCB0aGUgdXNlciB0aGF0IGl0IHdpbGwgbmVlZCBtYXBwZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5rbm93biBjb250cm9sbGVyIHBsdWdnZWQgaW4uIFBsZWFzZSBtYXAgaXQgdXNpbmcgdGhlIGtleWJpbmRpbmdzIG1lbnUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYucG9sbElucHV0KGV2dC5nYW1lcGFkLmluZGV4KTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIHRoaXMub25Db25uZWN0KTtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHJlZ2lzdGVyZWQgZm9yIHdoZW4gYSBnYW1lcGFkIGlzIGRpc2Nvbm5lY3RlZC5cbiAgICAqL1xuICAgIHRoaXMub25EaXNjb25uZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZC9jXCIpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShzZWxmLnBvbGxJbnB1dElEc1tldnQuZ2FtZXBhZC5pZF0pO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRkaXNjb25uZWN0ZWRcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuXG4gICAgLyoqXG4gICAgICogTWFpbiBwb2xsaW5nIGxvb3AgZnVuY3Rpb24gdGhhdCBmaXJlcyBidXR0b24gcHJlc3MgZXZlbnRzXG4gICAgICovXG4gICAgdGhpcy5wb2xsSW5wdXQgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICBsZXQgZ2FtZXBhZCA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpW2luZGV4XTtcblxuICAgICAgICAvLyBDb250cm9sbGVyIHVucGx1Z2dlZCBidXQgdGhlIGxvb3Agc3RhcnRlZCBiZWZvcmUgdGhlIHBvbGxJbnB1dCBsb29wIHdhcyBjYW5jZWxsZWQuXG4gICAgICAgIGlmKGdhbWVwYWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZihzZWxmLmxhc3RQb2xsZWRUaW1lc3RhbXBbZ2FtZXBhZC5pZF0gIT09IGdhbWVwYWQudGltZXN0YW1wKSB7XG4gICAgICAgICAgICBzZWxmLmxhc3RQb2xsZWRUaW1lc3RhbXBbZ2FtZXBhZC5pZF0gPSBnYW1lcGFkLnRpbWVzdGFtcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYucG9sbElucHV0SURzW2dhbWVwYWQuaWRdID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNlbGYucG9sbElucHV0LmJpbmQoc2VsZi5wb2xsSW5wdXQsIGluZGV4KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdGUgPSBzZWxmLmNvbnRyb2xsZXJTdGF0ZXNbZ2FtZXBhZC5pZF07XG5cbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB7fTtcbiAgICAgICAgc3RhdGUuYnV0dG9ucyA9IHN0YXRlLmJ1dHRvbnMgfHwgbmV3IEFycmF5KGdhbWVwYWQuYnV0dG9ucy5sZW5ndGgpO1xuICAgICAgICBzdGF0ZS5heGVzID0gc3RhdGUuYXhlcyB8fCBuZXcgQXJyYXkoZ2FtZXBhZC5heGVzLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS1cbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHN0YXRlLmJ1dHRvbnMubGVuZ3RoOysraSkge1xuICAgICAgICAgICAgaWYoc3RhdGUuYnV0dG9uc1tpXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHN0YXRlLmJ1dHRvbnNbaV0gPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gSWYgYnV0dG9uIHN0YXRlIGNoYW5nZWRcblxuICAgICAgICAgICAgaWYoZ2FtZXBhZC5idXR0b25zW2ldLnByZXNzZWQgIT09IHN0YXRlLmJ1dHRvbnNbaV0pIHtcbiAgICAgICAgICAgICAgICBpZihnYW1lcGFkLmJ1dHRvbnNbaV0ucHJlc3NlZCkgeyAvLyBkb3duXG4gICAgICAgICAgICAgICAgICAgIGxldCBldiA9IG5ldyBDdXN0b21FdmVudCgnZ2FtZXBhZEJ1dHRvblByZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXI6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAgICAgZ2FtZXBhZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246IGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZG93bidcbiAgICAgICAgICAgICAgICAgICAgICAgIH19KTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHVwXG4gICAgICAgICAgICAgICAgICAgIGxldCBldiA9IG5ldyBDdXN0b21FdmVudCgnZ2FtZXBhZEJ1dHRvblJlbGVhc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAge2RldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICAgICBnYW1lcGFkLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdkb3duJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0pO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuYnV0dG9uc1tpXSA9IGdhbWVwYWQuYnV0dG9uc1tpXS5wcmVzc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5jb250cm9sbGVyU3RhdGVzW2dhbWVwYWQuaWRdID0gc3RhdGU7XG5cbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHN0YXRlLmF4ZXMubGVuZ3RoOysraSkge1xuICAgICAgICAgICAgaWYoc3RhdGUuYXhlc1tpXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHN0YXRlLmF4ZXNbaV0gPSAwO1xuXG4gICAgICAgICAgICBpZihnYW1lcGFkLmF4ZXNbaV0gIT09IHN0YXRlLmF4ZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2dhbWVwYWRBeGVzVXBkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAge2RldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAgICAgZ2FtZXBhZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4ZXM6ICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZDogc3RhdGUuYXhlc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXc6IGdhbWVwYWQuYXhlc1tpXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fSk7XG4gICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuYXhlc1tpXSA9IGdhbWVwYWQuYXhlc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucG9sbElucHV0SURzW2dhbWVwYWQuaWRdID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNlbGYucG9sbElucHV0LmJpbmQoc2VsZi5wb2xsSW5wdXQsIGluZGV4KSk7XG4gICAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IEdhbWVwYWRNYW5hZ2VyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/GamepadManager.js\n");

/***/ }),

/***/ "./src/js/Keyboard.js":
/*!****************************!*\
  !*** ./src/js/Keyboard.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RetroJoypad.js */ \"./src/js/RetroJoypad.js\");\n\n\nvar Keyboard = {\n    keyAsRetroID: {\n        'x':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['B'],\n        'c':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['A'],\n        's':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['X'],\n        'a':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Y'],\n        'ArrowUp':      _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Up'],\n        'ArrowDown':    _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Down'],\n        'ArrowLeft':    _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Left'],\n        'ArrowRight':   _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Right'],\n        'Tab':          _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Select'],\n        'Enter':        _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Start'],\n        'q':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['L'],\n        'e':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['R']\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Keyboard);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvS2V5Ym9hcmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvS2V5Ym9hcmQuanM/ZmNkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmV0cm9Kb3lwYWQgZnJvbSAnLi9SZXRyb0pveXBhZC5qcydcblxudmFyIEtleWJvYXJkID0ge1xuICAgIGtleUFzUmV0cm9JRDoge1xuICAgICAgICAneCc6ICAgICAgICAgICAgUmV0cm9Kb3lwYWRbJ0InXSxcbiAgICAgICAgJ2MnOiAgICAgICAgICAgIFJldHJvSm95cGFkWydBJ10sXG4gICAgICAgICdzJzogICAgICAgICAgICBSZXRyb0pveXBhZFsnWCddLFxuICAgICAgICAnYSc6ICAgICAgICAgICAgUmV0cm9Kb3lwYWRbJ1knXSxcbiAgICAgICAgJ0Fycm93VXAnOiAgICAgIFJldHJvSm95cGFkWydVcCddLFxuICAgICAgICAnQXJyb3dEb3duJzogICAgUmV0cm9Kb3lwYWRbJ0Rvd24nXSxcbiAgICAgICAgJ0Fycm93TGVmdCc6ICAgIFJldHJvSm95cGFkWydMZWZ0J10sXG4gICAgICAgICdBcnJvd1JpZ2h0JzogICBSZXRyb0pveXBhZFsnUmlnaHQnXSxcbiAgICAgICAgJ1RhYic6ICAgICAgICAgIFJldHJvSm95cGFkWydTZWxlY3QnXSxcbiAgICAgICAgJ0VudGVyJzogICAgICAgIFJldHJvSm95cGFkWydTdGFydCddLFxuICAgICAgICAncSc6ICAgICAgICAgICAgUmV0cm9Kb3lwYWRbJ0wnXSxcbiAgICAgICAgJ2UnOiAgICAgICAgICAgIFJldHJvSm95cGFkWydSJ11cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/Keyboard.js\n");

/***/ }),

/***/ "./src/js/LetsPlayClient.js":
/*!**********************************!*\
  !*** ./src/js/LetsPlayClient.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Keyboard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Keyboard.js */ \"./src/js/Keyboard.js\");\n/* harmony import */ var _Display_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Display.js */ \"./src/js/Display.js\");\n\n\n\nfunction LetsPlayClient() {\n    var self = this;\n\n    // Initialize the display\n    this.display = new _Display_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n    // JS implicit object reference magic\n    this.connection = {};\n    var connection = this.connection;\n    var socket;\n\n    /**\n     * List of who's online.\n     * @type {string[]}\n     */\n    this.onlineUsers = [];\n\n    /**\n     * Turn queue list.\n     * @type {string[]}\n     */\n    this.turnQueue = [];\n\n    /**\n     * Bool for whether or not the user has a turn (prevents accidental button sends or keyboard key captures). Whether or not the user *actually* has a turn and can control the emulator is determined by the server.\n     * @type {boolean}\n     */\n    this.hasTurn = false;\n\n    function escapeHtml(unsafe) {\n        return unsafe\n             .replace(/&/g, \"&amp;\")\n             .replace(/</g, \"&lt;\")\n             .replace(/>/g, \"&gt;\")\n             .replace(/\"/g, \"&quot;\")\n             .replace(/'/g, \"&#039;\");\n     }\n\n    // Add a new message to the chat\n    this.appendMessage = function(who, message, type=\"chat\") {\n        switch(type) {\n            case \"chat\":\n                $(` <div class=\"chat-item\">\n                        <p class=\"username\">` + escapeHtml(who) + `</p>\n                        <p class=\"separator\">:</p>\n                        <span class=\"chat-text\">` + escapeHtml(message) + `</span>\n                    </div>`)\n                    .appendTo('#chat-list-items');\n                break;\n            case \"announcement\":\n                $(` <div class=\"chat-item\">\n                        <span class=\"chat-announcement\">` + escapeHtml(message) + `</span>\n                    </div>`)\n                .appendTo('#chat-list-items');\n                break;\n        }\n        // Set scroll to bottom\n        let chat_list = document.getElementById('chat-list-items');\n        chat_list.scrollTop = chat_list.scrollHeight;\n    };\n\n    this.sendChatboxContent = function() {\n        socket.send('chat',\n                    $('#chat-input-box').val().trim());\n        $('#chat-input-box').val('');\n    };\n\n    this.hideModal = function(DOMSelector) {\n        let jElem = $(DOMSelector);\n        jElem.css('opacity', '0');\n        setTimeout(function() {\n            jElem.removeClass('modal-active');\n            jElem.css('opacity', '');\n        }, 200);\n    };\n\n    this.showModal = function(DOMSelector) {\n        let jElem = $(DOMSelector);\n        jElem.css('opacity', '0');\n        jElem.addClass('modal-active');\n        // Firefox doesn't animate this right if there's no delay (chromium is the same way, but the setTimeout can be set to 1)\n        setTimeout(function() {\n            jElem.css('opacity', '100');\n        }, 10);\n    };\n\n    this.updateSocket = function(newSocket) {\n        self.connection = newSocket.socket;\n        connection = newSocket.socket;\n        socket = newSocket;\n    };\n\n    this.invalidUsername = function() {\n        $('#username-modal-subtitle').css('color', '#e42e2e');\n        $('.username-group').addClass('shake-horizontal');\n        setTimeout(function() {\n            $('#username-modal-subtitle').css('color', '');\n        }, 500);\n        setTimeout(function() {\n            $('.username-group').removeClass('shake-horizontal');\n        }, 900);\n    };\n\n    this.validUsername = function(newUsername) {\n        localStorage.setItem('username', newUsername);\n        self.hideModal('.modal-active');\n    };\n\n    this.setUsername = function(newUsername) {\n        if(!socket.pendingValidation && socket.rawSocket.readyState === WebSocket.OPEN) {\n            socket.pendingValidation = true;\n            socket.send('username', newUsername);\n        }\n    };\n\n    this.updateOnlineUsers = function(list) {\n        self.onlineUsers = list.sort();\n        self.updateUserList();\n    }\n\n    this.updateTurnList = function(list) {\n        if(list.length > 0) {\n            // If there was a change in who has a turn\n            if(list[0] !== self.turnQueue[0])\n                self.appendMessage('', list[0] + ' now has a turn.', 'announcement');\n\n            if(list[0] === localStorage.getItem('username')) {\n                self.hasTurn = true;\n                $('#screen').addClass('turn');\n            } else {\n                self.hasTurn = false;\n                $('#screen').removeClass('turn');\n            }\n        } else {\n            self.hasTurn = false;\n            $('#screen').removeClass('turn');\n        }\n\n        self.turnQueue = list;\n\n        self.updateUserList();\n    }\n\n    this.updateUserList = function() {\n        $('#user-list').empty();\n        self.turnQueue.forEach(user => {\n            $(`<div class=\"user-list-item turn\">\n                    <p>` + escapeHtml(user) + `</p>\n                </div>`).appendTo('#user-list');\n        });\n\n        self.onlineUsers.sort();\n        self.onlineUsers.forEach(user => {\n            if(self.turnQueue.indexOf(user) === -1) {\n                $(`<div class=\"user-list-item\">\n                        <p>` + escapeHtml(user) + `</p>\n                    </div>`).appendTo('#user-list');\n            }\n        });\n\n        self.updateUserCount();\n    }\n\n    this.updateUserCount = function() {\n        let count = self.onlineUsers.length,\n            s = '';\n        if(count === 0)\n            s += 'No Users';\n        else if(count === 1)\n            s += '1 User';\n        else\n            s += '' + count + ' Users';\n\n        s += ' Online';\n\n        $('#user-list-title').children().first().text(s);\n    };\n\n    this.updateEmuInfo = function() {\n        $('#minUsernameLength').text(socket.currentEmu.minUsernameLength);\n        $('#maxUsernameLength').text(socket.currentEmu.maxUsernameLength);\n\n        document.getElementById('chat-input-box').maxLength = socket.currentEmu.maxMessageSize;\n\n        $('#room-info').text(socket.currentEmu.name);\n    };\n\n    this.addUser = function(who) {\n        self.onlineUsers.push(who);\n        self.onlineUsers.sort();\n        self.updateOnlineUsers(self.onlineUsers);\n    };\n\n    this.removeUser = function(who) {\n        self.updateOnlineUsers(self.onlineUsers.filter(word => word !== who));\n    };\n\n    this.renameUser = function(who, toWhat) {\n        let i = self.onlineUsers.indexOf(who);\n        if(i !== -1)\n            self.onlineUsers[i] = toWhat;\n\n        let j = self.turnQueue.indexOf(who);\n        if(j !== -1)\n            self.turnQueue[i] = toWhat;\n\n        self.updateUserList();\n    };\n\n    // When outside box of modal is clicked, close it\n    $(document).on(\"click\", \".modal\", e => {\n        let target = $(e.target || e.srcElement);\n        if (target.is(\".modal\")) {\n            self.hideModal('.modal');\n        }\n    });\n\n    $('.modal').keyup(e => {\n        if(e.which === 27 /* Escape */) {\n            self.hideModal(e.delegateTarget);\n        }\n    });\n\n    $('#keybindings-cancel,#username-cancel').click(() => {\n        self.hideModal('.modal-active');\n    });\n\n    $('#username-submit').click(() => {\n        self.setUsername($('#username-input').val());\n    });\n\n    $('#settings-username').click(() => {\n        self.showModal('#username-modal');\n        $('#username-input').val(localStorage.getItem('username') || '');\n    });\n\n    $('#settings-keybindings').click(e => {\n        self.showModal('#keybind-modal');\n    });\n\n    // On enter (not shift-enter), send chatbox contents as a chat message\n    document.getElementById('chat-input-box').onkeyup = function(e) {\n        if((e.key == 'Enter') || (e.keyCode == 13) && !e.shiftKey) {\n            e.preventDefault();\n            self.sendChatboxContent();\n        }\n    }\n\n    // On enter, set username\n    document.getElementById('username-input').onkeyup = e => {\n        if(e.key == 'Enter' || e.keyCode == 13) {\n            e.preventDefault();\n            self.setUsername($('#username-input').val() || '');\n        }\n    }\n\n    // Send chatbox contents on send button click\n    $('#send-btn').click(self.sendChatboxContent);\n\n    document.getElementById('screen').onkeydown = e => {\n        if(!self.hasTurn) return;\n        if(_Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] !== undefined && !e.repeat) {\n            e.preventDefault();\n            socket.send('button', 'down', _Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] + '');\n        }\n    };\n\n    document.getElementById('screen').onkeyup = e => {\n        if(!self.hasTurn) return;\n        if(_Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] !== undefined && !e.repeat) {\n            e.preventDefault();\n            socket.send('button', 'up', _Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] + '');\n        }\n    };\n\n    $('#screen').click(e => {\n        if(!self.hasTurn)\n            socket.send('turn');\n    });\n\n    // Hide the settings dialogue if anything other than the navbar or settings dialogue is clicked\n    document.getElementById('emu-view').onclick = function(e) {\n        let target = e.srcElement || e.target;\n        if((target.id != 'settings-btn') && (target.className != 'material-icons'))\n            $('#settings-popup').css('display', 'none');\n    };\n\n    // Show the settings dialogue when the settings button is clicked\n    $('#settings-btn').click(e => {\n        $('#settings-popup').css('display', 'flex');\n    });\n\n    $('#user-list-close').click(e => {\n        $('#user-list-pane').removeClass('d-flex');\n        $('#chat-pane').addClass('d-flex');\n    });\n\n    $('#list-btn').click(e => {\n        $('#chat-pane').removeClass('d-flex');\n        $('#user-list-pane').addClass('d-flex');\n    });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlayClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlDbGllbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGV0c1BsYXlDbGllbnQuanM/MTFkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9LZXlib2FyZC5qcydcbmltcG9ydCBEaXNwbGF5IGZyb20gJy4vRGlzcGxheS5qcydcblxuZnVuY3Rpb24gTGV0c1BsYXlDbGllbnQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgZGlzcGxheVxuICAgIHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KCk7XG5cbiAgICAvLyBKUyBpbXBsaWNpdCBvYmplY3QgcmVmZXJlbmNlIG1hZ2ljXG4gICAgdGhpcy5jb25uZWN0aW9uID0ge307XG4gICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgdmFyIHNvY2tldDtcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2Ygd2hvJ3Mgb25saW5lLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICB0aGlzLm9ubGluZVVzZXJzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUdXJuIHF1ZXVlIGxpc3QuXG4gICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMudHVyblF1ZXVlID0gW107XG5cbiAgICAvKipcbiAgICAgKiBCb29sIGZvciB3aGV0aGVyIG9yIG5vdCB0aGUgdXNlciBoYXMgYSB0dXJuIChwcmV2ZW50cyBhY2NpZGVudGFsIGJ1dHRvbiBzZW5kcyBvciBrZXlib2FyZCBrZXkgY2FwdHVyZXMpLiBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciAqYWN0dWFsbHkqIGhhcyBhIHR1cm4gYW5kIGNhbiBjb250cm9sIHRoZSBlbXVsYXRvciBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5oYXNUdXJuID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGVIdG1sKHVuc2FmZSkge1xuICAgICAgICByZXR1cm4gdW5zYWZlXG4gICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiJiMwMzk7XCIpO1xuICAgICB9XG5cbiAgICAvLyBBZGQgYSBuZXcgbWVzc2FnZSB0byB0aGUgY2hhdFxuICAgIHRoaXMuYXBwZW5kTWVzc2FnZSA9IGZ1bmN0aW9uKHdobywgbWVzc2FnZSwgdHlwZT1cImNoYXRcIikge1xuICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImNoYXRcIjpcbiAgICAgICAgICAgICAgICAkKGAgPGRpdiBjbGFzcz1cImNoYXQtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ1c2VybmFtZVwiPmAgKyBlc2NhcGVIdG1sKHdobykgKyBgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJzZXBhcmF0b3JcIj46PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGF0LXRleHRcIj5gICsgZXNjYXBlSHRtbChtZXNzYWdlKSArIGA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmApXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygnI2NoYXQtbGlzdC1pdGVtcycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFubm91bmNlbWVudFwiOlxuICAgICAgICAgICAgICAgICQoYCA8ZGl2IGNsYXNzPVwiY2hhdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoYXQtYW5ub3VuY2VtZW50XCI+YCArIGVzY2FwZUh0bWwobWVzc2FnZSkgKyBgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbygnI2NoYXQtbGlzdC1pdGVtcycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBzY3JvbGwgdG8gYm90dG9tXG4gICAgICAgIGxldCBjaGF0X2xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1saXN0LWl0ZW1zJyk7XG4gICAgICAgIGNoYXRfbGlzdC5zY3JvbGxUb3AgPSBjaGF0X2xpc3Quc2Nyb2xsSGVpZ2h0O1xuICAgIH07XG5cbiAgICB0aGlzLnNlbmRDaGF0Ym94Q29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb2NrZXQuc2VuZCgnY2hhdCcsXG4gICAgICAgICAgICAgICAgICAgICQoJyNjaGF0LWlucHV0LWJveCcpLnZhbCgpLnRyaW0oKSk7XG4gICAgICAgICQoJyNjaGF0LWlucHV0LWJveCcpLnZhbCgnJyk7XG4gICAgfTtcblxuICAgIHRoaXMuaGlkZU1vZGFsID0gZnVuY3Rpb24oRE9NU2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IGpFbGVtID0gJChET01TZWxlY3Rvcik7XG4gICAgICAgIGpFbGVtLmNzcygnb3BhY2l0eScsICcwJyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBqRWxlbS5yZW1vdmVDbGFzcygnbW9kYWwtYWN0aXZlJyk7XG4gICAgICAgICAgICBqRWxlbS5jc3MoJ29wYWNpdHknLCAnJyk7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd01vZGFsID0gZnVuY3Rpb24oRE9NU2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IGpFbGVtID0gJChET01TZWxlY3Rvcik7XG4gICAgICAgIGpFbGVtLmNzcygnb3BhY2l0eScsICcwJyk7XG4gICAgICAgIGpFbGVtLmFkZENsYXNzKCdtb2RhbC1hY3RpdmUnKTtcbiAgICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IGFuaW1hdGUgdGhpcyByaWdodCBpZiB0aGVyZSdzIG5vIGRlbGF5IChjaHJvbWl1bSBpcyB0aGUgc2FtZSB3YXksIGJ1dCB0aGUgc2V0VGltZW91dCBjYW4gYmUgc2V0IHRvIDEpXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBqRWxlbS5jc3MoJ29wYWNpdHknLCAnMTAwJyk7XG4gICAgICAgIH0sIDEwKTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVTb2NrZXQgPSBmdW5jdGlvbihuZXdTb2NrZXQpIHtcbiAgICAgICAgc2VsZi5jb25uZWN0aW9uID0gbmV3U29ja2V0LnNvY2tldDtcbiAgICAgICAgY29ubmVjdGlvbiA9IG5ld1NvY2tldC5zb2NrZXQ7XG4gICAgICAgIHNvY2tldCA9IG5ld1NvY2tldDtcbiAgICB9O1xuXG4gICAgdGhpcy5pbnZhbGlkVXNlcm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnI3VzZXJuYW1lLW1vZGFsLXN1YnRpdGxlJykuY3NzKCdjb2xvcicsICcjZTQyZTJlJyk7XG4gICAgICAgICQoJy51c2VybmFtZS1ncm91cCcpLmFkZENsYXNzKCdzaGFrZS1ob3Jpem9udGFsJyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcjdXNlcm5hbWUtbW9kYWwtc3VidGl0bGUnKS5jc3MoJ2NvbG9yJywgJycpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLnVzZXJuYW1lLWdyb3VwJykucmVtb3ZlQ2xhc3MoJ3NoYWtlLWhvcml6b250YWwnKTtcbiAgICAgICAgfSwgOTAwKTtcbiAgICB9O1xuXG4gICAgdGhpcy52YWxpZFVzZXJuYW1lID0gZnVuY3Rpb24obmV3VXNlcm5hbWUpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJuYW1lJywgbmV3VXNlcm5hbWUpO1xuICAgICAgICBzZWxmLmhpZGVNb2RhbCgnLm1vZGFsLWFjdGl2ZScpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldFVzZXJuYW1lID0gZnVuY3Rpb24obmV3VXNlcm5hbWUpIHtcbiAgICAgICAgaWYoIXNvY2tldC5wZW5kaW5nVmFsaWRhdGlvbiAmJiBzb2NrZXQucmF3U29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICBzb2NrZXQucGVuZGluZ1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgc29ja2V0LnNlbmQoJ3VzZXJuYW1lJywgbmV3VXNlcm5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlT25saW5lVXNlcnMgPSBmdW5jdGlvbihsaXN0KSB7XG4gICAgICAgIHNlbGYub25saW5lVXNlcnMgPSBsaXN0LnNvcnQoKTtcbiAgICAgICAgc2VsZi51cGRhdGVVc2VyTGlzdCgpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVHVybkxpc3QgPSBmdW5jdGlvbihsaXN0KSB7XG4gICAgICAgIGlmKGxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgY2hhbmdlIGluIHdobyBoYXMgYSB0dXJuXG4gICAgICAgICAgICBpZihsaXN0WzBdICE9PSBzZWxmLnR1cm5RdWV1ZVswXSlcbiAgICAgICAgICAgICAgICBzZWxmLmFwcGVuZE1lc3NhZ2UoJycsIGxpc3RbMF0gKyAnIG5vdyBoYXMgYSB0dXJuLicsICdhbm5vdW5jZW1lbnQnKTtcblxuICAgICAgICAgICAgaWYobGlzdFswXSA9PT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJykpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc1R1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICQoJyNzY3JlZW4nKS5hZGRDbGFzcygndHVybicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhhc1R1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkKCcjc2NyZWVuJykucmVtb3ZlQ2xhc3MoJ3R1cm4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuaGFzVHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgJCgnI3NjcmVlbicpLnJlbW92ZUNsYXNzKCd0dXJuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnR1cm5RdWV1ZSA9IGxpc3Q7XG5cbiAgICAgICAgc2VsZi51cGRhdGVVc2VyTGlzdCgpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVXNlckxpc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnI3VzZXItbGlzdCcpLmVtcHR5KCk7XG4gICAgICAgIHNlbGYudHVyblF1ZXVlLmZvckVhY2godXNlciA9PiB7XG4gICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwidXNlci1saXN0LWl0ZW0gdHVyblwiPlxuICAgICAgICAgICAgICAgICAgICA8cD5gICsgZXNjYXBlSHRtbCh1c2VyKSArIGA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+YCkuYXBwZW5kVG8oJyN1c2VyLWxpc3QnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5vbmxpbmVVc2Vycy5zb3J0KCk7XG4gICAgICAgIHNlbGYub25saW5lVXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgIGlmKHNlbGYudHVyblF1ZXVlLmluZGV4T2YodXNlcikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgJChgPGRpdiBjbGFzcz1cInVzZXItbGlzdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5gICsgZXNjYXBlSHRtbCh1c2VyKSArIGA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmApLmFwcGVuZFRvKCcjdXNlci1saXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbGYudXBkYXRlVXNlckNvdW50KCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVVc2VyQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gc2VsZi5vbmxpbmVVc2Vycy5sZW5ndGgsXG4gICAgICAgICAgICBzID0gJyc7XG4gICAgICAgIGlmKGNvdW50ID09PSAwKVxuICAgICAgICAgICAgcyArPSAnTm8gVXNlcnMnO1xuICAgICAgICBlbHNlIGlmKGNvdW50ID09PSAxKVxuICAgICAgICAgICAgcyArPSAnMSBVc2VyJztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcyArPSAnJyArIGNvdW50ICsgJyBVc2Vycyc7XG5cbiAgICAgICAgcyArPSAnIE9ubGluZSc7XG5cbiAgICAgICAgJCgnI3VzZXItbGlzdC10aXRsZScpLmNoaWxkcmVuKCkuZmlyc3QoKS50ZXh0KHMpO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUVtdUluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnI21pblVzZXJuYW1lTGVuZ3RoJykudGV4dChzb2NrZXQuY3VycmVudEVtdS5taW5Vc2VybmFtZUxlbmd0aCk7XG4gICAgICAgICQoJyNtYXhVc2VybmFtZUxlbmd0aCcpLnRleHQoc29ja2V0LmN1cnJlbnRFbXUubWF4VXNlcm5hbWVMZW5ndGgpO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LWlucHV0LWJveCcpLm1heExlbmd0aCA9IHNvY2tldC5jdXJyZW50RW11Lm1heE1lc3NhZ2VTaXplO1xuXG4gICAgICAgICQoJyNyb29tLWluZm8nKS50ZXh0KHNvY2tldC5jdXJyZW50RW11Lm5hbWUpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZFVzZXIgPSBmdW5jdGlvbih3aG8pIHtcbiAgICAgICAgc2VsZi5vbmxpbmVVc2Vycy5wdXNoKHdobyk7XG4gICAgICAgIHNlbGYub25saW5lVXNlcnMuc29ydCgpO1xuICAgICAgICBzZWxmLnVwZGF0ZU9ubGluZVVzZXJzKHNlbGYub25saW5lVXNlcnMpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZVVzZXIgPSBmdW5jdGlvbih3aG8pIHtcbiAgICAgICAgc2VsZi51cGRhdGVPbmxpbmVVc2VycyhzZWxmLm9ubGluZVVzZXJzLmZpbHRlcih3b3JkID0+IHdvcmQgIT09IHdobykpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmFtZVVzZXIgPSBmdW5jdGlvbih3aG8sIHRvV2hhdCkge1xuICAgICAgICBsZXQgaSA9IHNlbGYub25saW5lVXNlcnMuaW5kZXhPZih3aG8pO1xuICAgICAgICBpZihpICE9PSAtMSlcbiAgICAgICAgICAgIHNlbGYub25saW5lVXNlcnNbaV0gPSB0b1doYXQ7XG5cbiAgICAgICAgbGV0IGogPSBzZWxmLnR1cm5RdWV1ZS5pbmRleE9mKHdobyk7XG4gICAgICAgIGlmKGogIT09IC0xKVxuICAgICAgICAgICAgc2VsZi50dXJuUXVldWVbaV0gPSB0b1doYXQ7XG5cbiAgICAgICAgc2VsZi51cGRhdGVVc2VyTGlzdCgpO1xuICAgIH07XG5cbiAgICAvLyBXaGVuIG91dHNpZGUgYm94IG9mIG1vZGFsIGlzIGNsaWNrZWQsIGNsb3NlIGl0XG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5tb2RhbFwiLCBlID0+IHtcbiAgICAgICAgbGV0IHRhcmdldCA9ICQoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KTtcbiAgICAgICAgaWYgKHRhcmdldC5pcyhcIi5tb2RhbFwiKSkge1xuICAgICAgICAgICAgc2VsZi5oaWRlTW9kYWwoJy5tb2RhbCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcubW9kYWwnKS5rZXl1cChlID0+IHtcbiAgICAgICAgaWYoZS53aGljaCA9PT0gMjcgLyogRXNjYXBlICovKSB7XG4gICAgICAgICAgICBzZWxmLmhpZGVNb2RhbChlLmRlbGVnYXRlVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2tleWJpbmRpbmdzLWNhbmNlbCwjdXNlcm5hbWUtY2FuY2VsJykuY2xpY2soKCkgPT4ge1xuICAgICAgICBzZWxmLmhpZGVNb2RhbCgnLm1vZGFsLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgJCgnI3VzZXJuYW1lLXN1Ym1pdCcpLmNsaWNrKCgpID0+IHtcbiAgICAgICAgc2VsZi5zZXRVc2VybmFtZSgkKCcjdXNlcm5hbWUtaW5wdXQnKS52YWwoKSk7XG4gICAgfSk7XG5cbiAgICAkKCcjc2V0dGluZ3MtdXNlcm5hbWUnKS5jbGljaygoKSA9PiB7XG4gICAgICAgIHNlbGYuc2hvd01vZGFsKCcjdXNlcm5hbWUtbW9kYWwnKTtcbiAgICAgICAgJCgnI3VzZXJuYW1lLWlucHV0JykudmFsKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpIHx8ICcnKTtcbiAgICB9KTtcblxuICAgICQoJyNzZXR0aW5ncy1rZXliaW5kaW5ncycpLmNsaWNrKGUgPT4ge1xuICAgICAgICBzZWxmLnNob3dNb2RhbCgnI2tleWJpbmQtbW9kYWwnKTtcbiAgICB9KTtcblxuICAgIC8vIE9uIGVudGVyIChub3Qgc2hpZnQtZW50ZXIpLCBzZW5kIGNoYXRib3ggY29udGVudHMgYXMgYSBjaGF0IG1lc3NhZ2VcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1pbnB1dC1ib3gnKS5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZigoZS5rZXkgPT0gJ0VudGVyJykgfHwgKGUua2V5Q29kZSA9PSAxMykgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNlbGYuc2VuZENoYXRib3hDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPbiBlbnRlciwgc2V0IHVzZXJuYW1lXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lLWlucHV0Jykub25rZXl1cCA9IGUgPT4ge1xuICAgICAgICBpZihlLmtleSA9PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2VsZi5zZXRVc2VybmFtZSgkKCcjdXNlcm5hbWUtaW5wdXQnKS52YWwoKSB8fCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZW5kIGNoYXRib3ggY29udGVudHMgb24gc2VuZCBidXR0b24gY2xpY2tcbiAgICAkKCcjc2VuZC1idG4nKS5jbGljayhzZWxmLnNlbmRDaGF0Ym94Q29udGVudCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJykub25rZXlkb3duID0gZSA9PiB7XG4gICAgICAgIGlmKCFzZWxmLmhhc1R1cm4pIHJldHVybjtcbiAgICAgICAgaWYoS2V5Ym9hcmQua2V5QXNSZXRyb0lEW2Uua2V5XSAhPT0gdW5kZWZpbmVkICYmICFlLnJlcGVhdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc29ja2V0LnNlbmQoJ2J1dHRvbicsICdkb3duJywgS2V5Ym9hcmQua2V5QXNSZXRyb0lEW2Uua2V5XSArICcnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJykub25rZXl1cCA9IGUgPT4ge1xuICAgICAgICBpZighc2VsZi5oYXNUdXJuKSByZXR1cm47XG4gICAgICAgIGlmKEtleWJvYXJkLmtleUFzUmV0cm9JRFtlLmtleV0gIT09IHVuZGVmaW5lZCAmJiAhZS5yZXBlYXQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdidXR0b24nLCAndXAnLCBLZXlib2FyZC5rZXlBc1JldHJvSURbZS5rZXldICsgJycpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICQoJyNzY3JlZW4nKS5jbGljayhlID0+IHtcbiAgICAgICAgaWYoIXNlbGYuaGFzVHVybilcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCd0dXJuJyk7XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIHRoZSBzZXR0aW5ncyBkaWFsb2d1ZSBpZiBhbnl0aGluZyBvdGhlciB0aGFuIHRoZSBuYXZiYXIgb3Igc2V0dGluZ3MgZGlhbG9ndWUgaXMgY2xpY2tlZFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXUtdmlldycpLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnNyY0VsZW1lbnQgfHwgZS50YXJnZXQ7XG4gICAgICAgIGlmKCh0YXJnZXQuaWQgIT0gJ3NldHRpbmdzLWJ0bicpICYmICh0YXJnZXQuY2xhc3NOYW1lICE9ICdtYXRlcmlhbC1pY29ucycpKVxuICAgICAgICAgICAgJCgnI3NldHRpbmdzLXBvcHVwJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9O1xuXG4gICAgLy8gU2hvdyB0aGUgc2V0dGluZ3MgZGlhbG9ndWUgd2hlbiB0aGUgc2V0dGluZ3MgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAkKCcjc2V0dGluZ3MtYnRuJykuY2xpY2soZSA9PiB7XG4gICAgICAgICQoJyNzZXR0aW5ncy1wb3B1cCcpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgfSk7XG5cbiAgICAkKCcjdXNlci1saXN0LWNsb3NlJykuY2xpY2soZSA9PiB7XG4gICAgICAgICQoJyN1c2VyLWxpc3QtcGFuZScpLnJlbW92ZUNsYXNzKCdkLWZsZXgnKTtcbiAgICAgICAgJCgnI2NoYXQtcGFuZScpLmFkZENsYXNzKCdkLWZsZXgnKTtcbiAgICB9KTtcblxuICAgICQoJyNsaXN0LWJ0bicpLmNsaWNrKGUgPT4ge1xuICAgICAgICAkKCcjY2hhdC1wYW5lJykucmVtb3ZlQ2xhc3MoJ2QtZmxleCcpO1xuICAgICAgICAkKCcjdXNlci1saXN0LXBhbmUnKS5hZGRDbGFzcygnZC1mbGV4Jyk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExldHNQbGF5Q2xpZW50O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/LetsPlayClient.js\n");

/***/ }),

/***/ "./src/js/LetsPlayProtocol.js":
/*!************************************!*\
  !*** ./src/js/LetsPlayProtocol.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst LetsPlayProtocol = {\n    encode: function(cypher) {\n        let command = \"\";\n        for (var i = 0; i < cypher.length; i++) {\n            var current = cypher[i] || '';\n            command += current.length + \".\" + current;\n            command += (i < cypher.length - 1 ? \",\" : \";\");\n        }\n        return command;\n    },\n    decode: function(string) {\n        var pos = -1,\n            sections = [];\n        for (let i =0;i < 25;++i) {\n            var len = string.indexOf('.', pos + 1);\n            if (len == -1) {\n                break;\n            }\n            pos = parseInt(string.slice(pos + 1, len)) + len + 1;\n            sections.push(string.slice(len + 1, pos)\n                .replace(/&#x27;/g, \"'\")\n                .replace(/&quot;/g, '\"')\n                .replace(/&#x2F;/g, '/')\n                .replace(/&lt;/g, '<')\n                .replace(/&gt;/g, '>')\n                .replace(/&amp;/g, '&')\n            )\n            if (string.slice(pos, pos + 1) == ';') {\n                break;\n            }\n        }\n        return sections;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlayProtocol);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlQcm90b2NvbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9MZXRzUGxheVByb3RvY29sLmpzP2RhM2UiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTGV0c1BsYXlQcm90b2NvbCA9IHtcbiAgICBlbmNvZGU6IGZ1bmN0aW9uKGN5cGhlcikge1xuICAgICAgICBsZXQgY29tbWFuZCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3lwaGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IGN5cGhlcltpXSB8fCAnJztcbiAgICAgICAgICAgIGNvbW1hbmQgKz0gY3VycmVudC5sZW5ndGggKyBcIi5cIiArIGN1cnJlbnQ7XG4gICAgICAgICAgICBjb21tYW5kICs9IChpIDwgY3lwaGVyLmxlbmd0aCAtIDEgPyBcIixcIiA6IFwiO1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICB9LFxuICAgIGRlY29kZTogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHZhciBwb3MgPSAtMSxcbiAgICAgICAgICAgIHNlY3Rpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPTA7aSA8IDI1OysraSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHN0cmluZy5pbmRleE9mKCcuJywgcG9zICsgMSk7XG4gICAgICAgICAgICBpZiAobGVuID09IC0xKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBwYXJzZUludChzdHJpbmcuc2xpY2UocG9zICsgMSwgbGVuKSkgKyBsZW4gKyAxO1xuICAgICAgICAgICAgc2VjdGlvbnMucHVzaChzdHJpbmcuc2xpY2UobGVuICsgMSwgcG9zKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyNzsvZywgXCInXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyRjsvZywgJy8nKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJmd0Oy9nLCAnPicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZhbXA7L2csICcmJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChzdHJpbmcuc2xpY2UocG9zLCBwb3MgKyAxKSA9PSAnOycpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbnM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZXRzUGxheVByb3RvY29sO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/LetsPlayProtocol.js\n");

/***/ }),

/***/ "./src/js/LetsPlaySocket.js":
/*!**********************************!*\
  !*** ./src/js/LetsPlaySocket.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _LetsPlayProtocol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LetsPlayProtocol.js */ \"./src/js/LetsPlayProtocol.js\");\n\n\nfunction LetsPlaySocket(wsURI, client) {\n    var self = this;\n\n    this.currentEmu = {\n        name: 'emu1',\n        maxMessageSize: undefined,\n        minUsernameLength: undefined,\n        maxUsernameLength: undefined,\n        turnLength: undefined // ms\n    };\n\n    var username = localStorage.getItem('username') || '';\n    this.pendingValidation = false;\n\n    this.send = function() {\n        if(rawSocket.readyState === WebSocket.OPEN) {\n            let message = _LetsPlayProtocol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encode(arguments);\n            console.log('>> ' + message);\n            rawSocket.send(message);\n        }\n    };\n\n    /**\n     * Function called when the server emits a chat command. Updates the chat list in the html to the new content after unescaping unicode and hex sequences in the message.\n     */\n    this.onChat = function(command) {\n        let message = command[2].replace(/(\\\\x[\\da-f]{2}|\\\\u[\\da-f]{4}|\\\\u{1[\\da-f]{4}})+/g, function a(x) {\n                return eval(\"'\" + x + \"'\")\n        });\n        client.appendMessage(command[1], message);\n    };\n\n    /**\n     * Function called when the server emits a list command.\n     */\n    this.onList = function(command) {\n        client.updateOnlineUsers(command.slice(1));\n    };\n\n    /**\n     * Function called when the server emits a username command\n     */\n    this.onUsername = function(command) {\n        if(self.pendingValidation) {\n            console.log(command);\n\n            if(command[1] == command[2]) // No username changed, it was invalid\n                client.invalidUsername();\n            else\n                client.validUsername(command[2]);\n\n            self.pendingValidation = false;\n        }\n    };\n\n    this.onJoin = function(command) {\n        console.log(command);\n        client.addUser(command[1]);\n        client.appendMessage('', command[1] + ' has joined.', 'announcement');\n    }\n\n    this.onLeave = function(command) {\n        client.removeUser(command[1]);\n        client.appendMessage('', command[1] + ' has left.', 'announcement');\n    }\n\n    this.onConnect = function(command) {\n        if(command[1] === '1') {\n            self.send('list');\n        }\n    }\n\n    this.onRename = function(command) {\n        client.renameUser(command[1], command[2]);\n        client.appendMessage('', command[1] + ' is now known as ' + command[2] + '.', 'announcement');\n    }\n\n    this.onEmuInfo = function(command) {\n        self.currentEmu.minUsernameLength = command[1];\n        self.currentEmu.maxUsernameLength = command[2];\n        self.currentEmu.maxMessageSize = command[3];\n        // self.currentEmu.turnLength = command[4];\n        self.currentEmu.name = command[4];\n\n        client.updateEmuInfo();\n    }\n\n    this.onPing = function(command) {\n        self.send('pong');\n    }\n\n    this.onTurns = function(command) {\n        client.updateTurnList(command.slice(1));\n    }\n\n    var rawSocket = new WebSocket(wsURI);\n    this.rawSocket = rawSocket;\n    rawSocket.binaryType = 'arraybuffer';\n\n    rawSocket.onopen = function() {\n        console.log('Connection opened');\n        client.setUsername(localStorage.getItem('username'));\n        self.send('connect', self.currentEmu.name);\n    };\n\n    rawSocket.onclose = function() {\n        // TODO: Set client to error state (buttons disabled and stuff) and init reconnect process\n        console.log('Connection closed.');\n    };\n\n    rawSocket.onerror = function() {\n        console.log('Connection error.');\n    };\n\n    rawSocket.onmessage = function(event) {\n        // Binary message type\n        if(event.data instanceof ArrayBuffer) {\n            client.display.update(event.data);\n        } else { // Plaintext message type\n            console.log('<< ' + event.data);\n            let command = _LetsPlayProtocol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decode(event.data);\n            if(command.length == 0)\n                return;\n\n            switch(command[0]) {\n                case \"chat\":\n                    self.onChat(command);\n                    break;\n                case \"list\":\n                    self.onList(command);\n                    break;\n                case \"username\":\n                    self.onUsername(command);\n                    break;\n                case \"join\":\n                    self.onJoin(command);\n                    break;\n                case \"leave\":\n                    self.onLeave(command);\n                    break;\n                case \"connect\":\n                    self.onConnect(command);\n                    break;\n                case \"rename\":\n                    self.onRename(command);\n                    break;\n                case \"emuinfo\":\n                    self.onEmuInfo(command);\n                    break;\n                case \"ping\":\n                    self.onPing(command);\n                    break;\n                case \"turns\":\n                    self.onTurns(command);\n                    break;\n                default:\n                    console.log(\"Unimplemented command: \" + command[0]);\n            }\n        }\n    };\n\n    // gamepadButtonRelease -- Button released\n    // gamepadButtonPress -- Button pressed\n    // gamepadAxesUpdate -- Axes changed\n    window.addEventListener('gamepadButtonRelease', function(evt) {\n        console.log('release', evt.detail.button);\n        client.appendMessage('[GamepadAPI]', 'release ' + evt.detail.button, 'announcement');\n        self.send('button', 'up', evt.detail.button);\n    });\n\n    window.addEventListener('gamepadButtonPress', function(evt) {\n        console.log('press', evt.detail.button);\n        client.appendMessage('[GamepadAPI]', 'press ' + evt.detail.button, 'announcement');\n        self.send('button', 'down', evt.detail.button);\n    });\n\n    window.addEventListener('gamepadAxesUpdate', function(evt) {\n        client.appendMessage('[GamepadAPI]', 'analog ' + evt.detail.axes + ' ' + evt.detail.value.old + ' -> ' + evt.detail.value.new, 'announcement');\n        // TODO: Send analog values\n        // button, axes, buttonID, value (int16 value, +-32768?)\n        // Check if cores translate analog button values correctly or if own algorithm has to be implememted (advanced settings checkbox thing?)\n    });\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlaySocket);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlTb2NrZXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGV0c1BsYXlTb2NrZXQuanM/ZTQ2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGV0c1BsYXlQcm90b2NvbCBmcm9tICcuL0xldHNQbGF5UHJvdG9jb2wuanMnXG5cbmZ1bmN0aW9uIExldHNQbGF5U29ja2V0KHdzVVJJLCBjbGllbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLmN1cnJlbnRFbXUgPSB7XG4gICAgICAgIG5hbWU6ICdlbXUxJyxcbiAgICAgICAgbWF4TWVzc2FnZVNpemU6IHVuZGVmaW5lZCxcbiAgICAgICAgbWluVXNlcm5hbWVMZW5ndGg6IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4VXNlcm5hbWVMZW5ndGg6IHVuZGVmaW5lZCxcbiAgICAgICAgdHVybkxlbmd0aDogdW5kZWZpbmVkIC8vIG1zXG4gICAgfTtcblxuICAgIHZhciB1c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpIHx8ICcnO1xuICAgIHRoaXMucGVuZGluZ1ZhbGlkYXRpb24gPSBmYWxzZTtcblxuICAgIHRoaXMuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZihyYXdTb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gTGV0c1BsYXlQcm90b2NvbC5lbmNvZGUoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc+PiAnICsgbWVzc2FnZSk7XG4gICAgICAgICAgICByYXdTb2NrZXQuc2VuZChtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgc2VydmVyIGVtaXRzIGEgY2hhdCBjb21tYW5kLiBVcGRhdGVzIHRoZSBjaGF0IGxpc3QgaW4gdGhlIGh0bWwgdG8gdGhlIG5ldyBjb250ZW50IGFmdGVyIHVuZXNjYXBpbmcgdW5pY29kZSBhbmQgaGV4IHNlcXVlbmNlcyBpbiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICB0aGlzLm9uQ2hhdCA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBjb21tYW5kWzJdLnJlcGxhY2UoLyhcXFxceFtcXGRhLWZdezJ9fFxcXFx1W1xcZGEtZl17NH18XFxcXHV7MVtcXGRhLWZdezR9fSkrL2csIGZ1bmN0aW9uIGEoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmFsKFwiJ1wiICsgeCArIFwiJ1wiKVxuICAgICAgICB9KTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoY29tbWFuZFsxXSwgbWVzc2FnZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBzZXJ2ZXIgZW1pdHMgYSBsaXN0IGNvbW1hbmQuXG4gICAgICovXG4gICAgdGhpcy5vbkxpc3QgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIGNsaWVudC51cGRhdGVPbmxpbmVVc2Vycyhjb21tYW5kLnNsaWNlKDEpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHNlcnZlciBlbWl0cyBhIHVzZXJuYW1lIGNvbW1hbmRcbiAgICAgKi9cbiAgICB0aGlzLm9uVXNlcm5hbWUgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIGlmKHNlbGYucGVuZGluZ1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbW1hbmQpO1xuXG4gICAgICAgICAgICBpZihjb21tYW5kWzFdID09IGNvbW1hbmRbMl0pIC8vIE5vIHVzZXJuYW1lIGNoYW5nZWQsIGl0IHdhcyBpbnZhbGlkXG4gICAgICAgICAgICAgICAgY2xpZW50LmludmFsaWRVc2VybmFtZSgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNsaWVudC52YWxpZFVzZXJuYW1lKGNvbW1hbmRbMl0pO1xuXG4gICAgICAgICAgICBzZWxmLnBlbmRpbmdWYWxpZGF0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vbkpvaW4gPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbW1hbmQpO1xuICAgICAgICBjbGllbnQuYWRkVXNlcihjb21tYW5kWzFdKTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJycsIGNvbW1hbmRbMV0gKyAnIGhhcyBqb2luZWQuJywgJ2Fubm91bmNlbWVudCcpO1xuICAgIH1cblxuICAgIHRoaXMub25MZWF2ZSA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgY2xpZW50LnJlbW92ZVVzZXIoY29tbWFuZFsxXSk7XG4gICAgICAgIGNsaWVudC5hcHBlbmRNZXNzYWdlKCcnLCBjb21tYW5kWzFdICsgJyBoYXMgbGVmdC4nLCAnYW5ub3VuY2VtZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5vbkNvbm5lY3QgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIGlmKGNvbW1hbmRbMV0gPT09ICcxJykge1xuICAgICAgICAgICAgc2VsZi5zZW5kKCdsaXN0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9uUmVuYW1lID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICBjbGllbnQucmVuYW1lVXNlcihjb21tYW5kWzFdLCBjb21tYW5kWzJdKTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJycsIGNvbW1hbmRbMV0gKyAnIGlzIG5vdyBrbm93biBhcyAnICsgY29tbWFuZFsyXSArICcuJywgJ2Fubm91bmNlbWVudCcpO1xuICAgIH1cblxuICAgIHRoaXMub25FbXVJbmZvID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICBzZWxmLmN1cnJlbnRFbXUubWluVXNlcm5hbWVMZW5ndGggPSBjb21tYW5kWzFdO1xuICAgICAgICBzZWxmLmN1cnJlbnRFbXUubWF4VXNlcm5hbWVMZW5ndGggPSBjb21tYW5kWzJdO1xuICAgICAgICBzZWxmLmN1cnJlbnRFbXUubWF4TWVzc2FnZVNpemUgPSBjb21tYW5kWzNdO1xuICAgICAgICAvLyBzZWxmLmN1cnJlbnRFbXUudHVybkxlbmd0aCA9IGNvbW1hbmRbNF07XG4gICAgICAgIHNlbGYuY3VycmVudEVtdS5uYW1lID0gY29tbWFuZFs0XTtcblxuICAgICAgICBjbGllbnQudXBkYXRlRW11SW5mbygpO1xuICAgIH1cblxuICAgIHRoaXMub25QaW5nID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICBzZWxmLnNlbmQoJ3BvbmcnKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uVHVybnMgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIGNsaWVudC51cGRhdGVUdXJuTGlzdChjb21tYW5kLnNsaWNlKDEpKTtcbiAgICB9XG5cbiAgICB2YXIgcmF3U29ja2V0ID0gbmV3IFdlYlNvY2tldCh3c1VSSSk7XG4gICAgdGhpcy5yYXdTb2NrZXQgPSByYXdTb2NrZXQ7XG4gICAgcmF3U29ja2V0LmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gICAgcmF3U29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBvcGVuZWQnKTtcbiAgICAgICAgY2xpZW50LnNldFVzZXJuYW1lKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpKTtcbiAgICAgICAgc2VsZi5zZW5kKCdjb25uZWN0Jywgc2VsZi5jdXJyZW50RW11Lm5hbWUpO1xuICAgIH07XG5cbiAgICByYXdTb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUT0RPOiBTZXQgY2xpZW50IHRvIGVycm9yIHN0YXRlIChidXR0b25zIGRpc2FibGVkIGFuZCBzdHVmZikgYW5kIGluaXQgcmVjb25uZWN0IHByb2Nlc3NcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gY2xvc2VkLicpO1xuICAgIH07XG5cbiAgICByYXdTb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBlcnJvci4nKTtcbiAgICB9O1xuXG4gICAgcmF3U29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIEJpbmFyeSBtZXNzYWdlIHR5cGVcbiAgICAgICAgaWYoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBjbGllbnQuZGlzcGxheS51cGRhdGUoZXZlbnQuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7IC8vIFBsYWludGV4dCBtZXNzYWdlIHR5cGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc8PCAnICsgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBsZXQgY29tbWFuZCA9IExldHNQbGF5UHJvdG9jb2wuZGVjb2RlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgaWYoY29tbWFuZC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHN3aXRjaChjb21tYW5kWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoYXRcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkNoYXQoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25MaXN0KGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXNlcm5hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vblVzZXJuYW1lKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiam9pblwiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uSm9pbihjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxlYXZlXCI6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25MZWF2ZShjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbm5lY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkNvbm5lY3QoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZW5hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vblJlbmFtZShjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVtdWluZm9cIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkVtdUluZm8oY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25QaW5nKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidHVybnNcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vblR1cm5zKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVuaW1wbGVtZW50ZWQgY29tbWFuZDogXCIgKyBjb21tYW5kWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBnYW1lcGFkQnV0dG9uUmVsZWFzZSAtLSBCdXR0b24gcmVsZWFzZWRcbiAgICAvLyBnYW1lcGFkQnV0dG9uUHJlc3MgLS0gQnV0dG9uIHByZXNzZWRcbiAgICAvLyBnYW1lcGFkQXhlc1VwZGF0ZSAtLSBBeGVzIGNoYW5nZWRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZEJ1dHRvblJlbGVhc2UnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlbGVhc2UnLCBldnQuZGV0YWlsLmJ1dHRvbik7XG4gICAgICAgIGNsaWVudC5hcHBlbmRNZXNzYWdlKCdbR2FtZXBhZEFQSV0nLCAncmVsZWFzZSAnICsgZXZ0LmRldGFpbC5idXR0b24sICdhbm5vdW5jZW1lbnQnKTtcbiAgICAgICAgc2VsZi5zZW5kKCdidXR0b24nLCAndXAnLCBldnQuZGV0YWlsLmJ1dHRvbik7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZEJ1dHRvblByZXNzJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcmVzcycsIGV2dC5kZXRhaWwuYnV0dG9uKTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJ1tHYW1lcGFkQVBJXScsICdwcmVzcyAnICsgZXZ0LmRldGFpbC5idXR0b24sICdhbm5vdW5jZW1lbnQnKTtcbiAgICAgICAgc2VsZi5zZW5kKCdidXR0b24nLCAnZG93bicsIGV2dC5kZXRhaWwuYnV0dG9uKTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnYW1lcGFkQXhlc1VwZGF0ZScsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBjbGllbnQuYXBwZW5kTWVzc2FnZSgnW0dhbWVwYWRBUEldJywgJ2FuYWxvZyAnICsgZXZ0LmRldGFpbC5heGVzICsgJyAnICsgZXZ0LmRldGFpbC52YWx1ZS5vbGQgKyAnIC0+ICcgKyBldnQuZGV0YWlsLnZhbHVlLm5ldywgJ2Fubm91bmNlbWVudCcpO1xuICAgICAgICAvLyBUT0RPOiBTZW5kIGFuYWxvZyB2YWx1ZXNcbiAgICAgICAgLy8gYnV0dG9uLCBheGVzLCBidXR0b25JRCwgdmFsdWUgKGludDE2IHZhbHVlLCArLTMyNzY4PylcbiAgICAgICAgLy8gQ2hlY2sgaWYgY29yZXMgdHJhbnNsYXRlIGFuYWxvZyBidXR0b24gdmFsdWVzIGNvcnJlY3RseSBvciBpZiBvd24gYWxnb3JpdGhtIGhhcyB0byBiZSBpbXBsZW1lbXRlZCAoYWR2YW5jZWQgc2V0dGluZ3MgY2hlY2tib3ggdGhpbmc/KVxuICAgIH0pO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExldHNQbGF5U29ja2V0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/LetsPlaySocket.js\n");

/***/ }),

/***/ "./src/js/Main.js":
/*!************************!*\
  !*** ./src/js/Main.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _GamepadManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GamepadManager.js */ \"./src/js/GamepadManager.js\");\n/* harmony import */ var _LetsPlayClient_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LetsPlayClient.js */ \"./src/js/LetsPlayClient.js\");\n/* harmony import */ var _LetsPlaySocket_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LetsPlaySocket.js */ \"./src/js/LetsPlaySocket.js\");\n\n\n\n\n$('document').ready(function() {\n    var client = new _LetsPlayClient_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    var connection = new _LetsPlaySocket_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]('ws://' + prompt('Dev server uri', window.location.hostname + ':3074'), client);\n    client.updateSocket(connection);\n    var gm = new _GamepadManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n    // Expose most of the application for userscripts to extend and for debugging\n    global.LetsPlay = {\n        Client: client,\n        Display: display,\n        GamepadManager: gm,\n        Socket: connection\n    };\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9NYWluLmpzP2JhNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVwYWRNYW5hZ2VyIGZyb20gJy4vR2FtZXBhZE1hbmFnZXIuanMnXG5pbXBvcnQgTGV0c1BsYXlDbGllbnQgZnJvbSAnLi9MZXRzUGxheUNsaWVudC5qcydcbmltcG9ydCBMZXRzUGxheVNvY2tldCBmcm9tICcuL0xldHNQbGF5U29ja2V0LmpzJ1xuXG4kKCdkb2N1bWVudCcpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbGllbnQgPSBuZXcgTGV0c1BsYXlDbGllbnQoKTtcbiAgICB2YXIgY29ubmVjdGlvbiA9IG5ldyBMZXRzUGxheVNvY2tldCgnd3M6Ly8nICsgcHJvbXB0KCdEZXYgc2VydmVyIHVyaScsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICc6MzA3NCcpLCBjbGllbnQpO1xuICAgIGNsaWVudC51cGRhdGVTb2NrZXQoY29ubmVjdGlvbik7XG4gICAgdmFyIGdtID0gbmV3IEdhbWVwYWRNYW5hZ2VyKCk7XG5cbiAgICAvLyBFeHBvc2UgbW9zdCBvZiB0aGUgYXBwbGljYXRpb24gZm9yIHVzZXJzY3JpcHRzIHRvIGV4dGVuZCBhbmQgZm9yIGRlYnVnZ2luZ1xuICAgIGdsb2JhbC5MZXRzUGxheSA9IHtcbiAgICAgICAgQ2xpZW50OiBjbGllbnQsXG4gICAgICAgIERpc3BsYXk6IGRpc3BsYXksXG4gICAgICAgIEdhbWVwYWRNYW5hZ2VyOiBnbSxcbiAgICAgICAgU29ja2V0OiBjb25uZWN0aW9uXG4gICAgfTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/Main.js\n");

/***/ }),

/***/ "./src/js/RetroJoypad.js":
/*!*******************************!*\
  !*** ./src/js/RetroJoypad.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Map for storing the button name -> RetroPad ID relation. RetroPad IDs are based on those found in libretro.h\n * @see {@link https://github.com/libretro/RetroArch/blob/9c0ed0f2c4182f3df543a54881e68bb12cf2ed68/libretro-common/include/libretro.h#L186|LibRetro.h on GitHub} for RetroJoypad IDs.\n * @const\n */\nconst RetroJoypad = Object.freeze({\n    'B': 0,\n    'Y': 1,\n    'Select': 2,\n    'Start': 3,\n    'Up': 4,\n    'Down': 5,\n    'Left': 6,\n    'Right': 7,\n    'A': 8,\n    'X': 9,\n    'L': 10,\n    'R': 11,\n    'L2': 12,\n    'R2': 13,\n    'L3': 14,\n    'R3': 15\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RetroJoypad);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvUmV0cm9Kb3lwYWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvUmV0cm9Kb3lwYWQuanM/YjBlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1hcCBmb3Igc3RvcmluZyB0aGUgYnV0dG9uIG5hbWUgLT4gUmV0cm9QYWQgSUQgcmVsYXRpb24uIFJldHJvUGFkIElEcyBhcmUgYmFzZWQgb24gdGhvc2UgZm91bmQgaW4gbGlicmV0cm8uaFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2xpYnJldHJvL1JldHJvQXJjaC9ibG9iLzljMGVkMGYyYzQxODJmM2RmNTQzYTU0ODgxZTY4YmIxMmNmMmVkNjgvbGlicmV0cm8tY29tbW9uL2luY2x1ZGUvbGlicmV0cm8uaCNMMTg2fExpYlJldHJvLmggb24gR2l0SHVifSBmb3IgUmV0cm9Kb3lwYWQgSURzLlxuICogQGNvbnN0XG4gKi9cbmNvbnN0IFJldHJvSm95cGFkID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgJ0InOiAwLFxuICAgICdZJzogMSxcbiAgICAnU2VsZWN0JzogMixcbiAgICAnU3RhcnQnOiAzLFxuICAgICdVcCc6IDQsXG4gICAgJ0Rvd24nOiA1LFxuICAgICdMZWZ0JzogNixcbiAgICAnUmlnaHQnOiA3LFxuICAgICdBJzogOCxcbiAgICAnWCc6IDksXG4gICAgJ0wnOiAxMCxcbiAgICAnUic6IDExLFxuICAgICdMMic6IDEyLFxuICAgICdSMic6IDEzLFxuICAgICdMMyc6IDE0LFxuICAgICdSMyc6IDE1XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmV0cm9Kb3lwYWQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/RetroJoypad.js\n");

/***/ })

/******/ });