/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/Main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./src/js/Display.js":
/*!***************************!*\
  !*** ./src/js/Display.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction Display() {\n    var trueWidth = -1,\n        trueHeight = -1;\n\n    var canvas = document.getElementById('screen');\n    var ctx = canvas.getContext('2d');\n\n    ctx.imageSmoothingEnabled = false;\n    ctx.mozImageSmoothingEnabled = false;\n    ctx.oImageSmoothingEnabled = false;\n    ctx.webkitImageSmoothingEnabled = false;\n    ctx.msImageSmoothingEnabled = false;\n    ctx.filter = 'saturate(130%)'; // A little bit of saturation won't hurt (experimental feature so some stuff might not see this but its not important)\n\n    this.update = function(imgdata) {\n        var bytearray = new Uint8Array(imgdata);\n        var binstr = Array.prototype.map.call(bytearray, function (ch) {\n            return String.fromCharCode(ch);\n        }).join('');\n        var b64encoded = btoa(binstr);\n\n        var image = new Image();\n        image.addEventListener('load', function() {\n            if (canvas.getContext) {\n                if(trueWidth != image.width || trueHeight != image.height) {\n                    trueWidth = image.width;\n                    trueHeight = image.height;\n\n                    let aspectRatio = image.width / image.height;\n                    // Better ways to do this, but Google doesn't know how to implement a standard...\n                    let oneRem = parseFloat(getComputedStyle(document.documentElement).fontSize);\n                    let maxCanvasHeight = parseFloat(window.getComputedStyle(document.getElementsByClassName('display-container')[0]).height) - (2 * oneRem);\n\n                    let newWidth = aspectRatio * maxCanvasHeight;\n                    let newHeight = maxCanvasHeight;\n\n                    canvas.width = newWidth;\n                    canvas.height = newHeight;\n\n                    document.getElementById('screen').style.height = newHeight + 'px !important';\n                    document.getElementById('screen').style.width = newWidth + 'px !important';\n                }\n                ctx.imageSmoothingEnabled = false;\n                ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n            }\n        });\n        image.src = 'data:image/jpeg;base64,' + b64encoded;\n    }\n\n    this.drawSMPTEBars = function(canvas, ctx) {\n        let width = canvas.width,\n            height = canvas.height;\n\n\n        let colors = [\n            ['fff', 'ffe500', '00ffd7', '0fe000', 'ff00fe', 'e30013', '0000ff'],\n            ['0000ff', '353535', 'ff00fe', '676767', '00ffd7', '353535', 'fff'],\n            ['006261', 'fff', '00196b', '676767', '8d8d8d', '353535']\n        ];\n\n        let heights = [\n            75,\n            5,\n            20\n        ];\n\n        let cX = 0, cY = 0;\n        for(let row in colors) {\n            let rowHeight = heights[row] / 100 * height;\n            let cellWidth = width / colors[row].length;\n            for(let i in colors[row]) {\n                ctx.fillStyle = '#' + colors[row][i];\n                ctx.fillRect(cX, cY, cellWidth, rowHeight);\n                cX += cellWidth;\n            }\n            cY += rowHeight;\n            cX = 0;\n        }\n        ctx.fillStyle = '#000';\n        ctx.fillRect(0, (height - (height / 5) - (height * .05)) / 2, width, (height / 5) + (height * .05));\n\n        ctx.font = Math.floor((height / 5 )) + 'px monospace';\n        ctx.textBaseline = 'middle';\n        ctx.textAlign = 'center';\n        ctx.fillStyle = '#fff';\n        ctx.fillText('NO SIGNAL', width / 2, height / 2);\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Display);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvRGlzcGxheS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9EaXNwbGF5LmpzP2EwYzciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gRGlzcGxheSgpIHtcbiAgICB2YXIgdHJ1ZVdpZHRoID0gLTEsXG4gICAgICAgIHRydWVIZWlnaHQgPSAtMTtcblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJyk7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHgub0ltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIGN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHguZmlsdGVyID0gJ3NhdHVyYXRlKDEzMCUpJzsgLy8gQSBsaXR0bGUgYml0IG9mIHNhdHVyYXRpb24gd29uJ3QgaHVydCAoZXhwZXJpbWVudGFsIGZlYXR1cmUgc28gc29tZSBzdHVmZiBtaWdodCBub3Qgc2VlIHRoaXMgYnV0IGl0cyBub3QgaW1wb3J0YW50KVxuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihpbWdkYXRhKSB7XG4gICAgICAgIHZhciBieXRlYXJyYXkgPSBuZXcgVWludDhBcnJheShpbWdkYXRhKTtcbiAgICAgICAgdmFyIGJpbnN0ciA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChieXRlYXJyYXksIGZ1bmN0aW9uIChjaCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgdmFyIGI2NGVuY29kZWQgPSBidG9hKGJpbnN0cik7XG5cbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGlmKHRydWVXaWR0aCAhPSBpbWFnZS53aWR0aCB8fCB0cnVlSGVpZ2h0ICE9IGltYWdlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0cnVlV2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZUhlaWdodCA9IGltYWdlLmhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgYXNwZWN0UmF0aW8gPSBpbWFnZS53aWR0aCAvIGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQmV0dGVyIHdheXMgdG8gZG8gdGhpcywgYnV0IEdvb2dsZSBkb2Vzbid0IGtub3cgaG93IHRvIGltcGxlbWVudCBhIHN0YW5kYXJkLi4uXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbmVSZW0gPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5mb250U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhDYW52YXNIZWlnaHQgPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Rpc3BsYXktY29udGFpbmVyJylbMF0pLmhlaWdodCkgLSAoMiAqIG9uZVJlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dpZHRoID0gYXNwZWN0UmF0aW8gKiBtYXhDYW52YXNIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdIZWlnaHQgPSBtYXhDYW52YXNIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCAhaW1wb3J0YW50JztcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHggIWltcG9ydGFudCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJyArIGI2NGVuY29kZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3U01QVEVCYXJzID0gZnVuY3Rpb24oY2FudmFzLCBjdHgpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuXG4gICAgICAgIGxldCBjb2xvcnMgPSBbXG4gICAgICAgICAgICBbJ2ZmZicsICdmZmU1MDAnLCAnMDBmZmQ3JywgJzBmZTAwMCcsICdmZjAwZmUnLCAnZTMwMDEzJywgJzAwMDBmZiddLFxuICAgICAgICAgICAgWycwMDAwZmYnLCAnMzUzNTM1JywgJ2ZmMDBmZScsICc2NzY3NjcnLCAnMDBmZmQ3JywgJzM1MzUzNScsICdmZmYnXSxcbiAgICAgICAgICAgIFsnMDA2MjYxJywgJ2ZmZicsICcwMDE5NmInLCAnNjc2NzY3JywgJzhkOGQ4ZCcsICczNTM1MzUnXVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBoZWlnaHRzID0gW1xuICAgICAgICAgICAgNzUsXG4gICAgICAgICAgICA1LFxuICAgICAgICAgICAgMjBcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgY1ggPSAwLCBjWSA9IDA7XG4gICAgICAgIGZvcihsZXQgcm93IGluIGNvbG9ycykge1xuICAgICAgICAgICAgbGV0IHJvd0hlaWdodCA9IGhlaWdodHNbcm93XSAvIDEwMCAqIGhlaWdodDtcbiAgICAgICAgICAgIGxldCBjZWxsV2lkdGggPSB3aWR0aCAvIGNvbG9yc1tyb3ddLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiBjb2xvcnNbcm93XSkge1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIycgKyBjb2xvcnNbcm93XVtpXTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoY1gsIGNZLCBjZWxsV2lkdGgsIHJvd0hlaWdodCk7XG4gICAgICAgICAgICAgICAgY1ggKz0gY2VsbFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY1kgKz0gcm93SGVpZ2h0O1xuICAgICAgICAgICAgY1ggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAoaGVpZ2h0IC0gKGhlaWdodCAvIDUpIC0gKGhlaWdodCAqIC4wNSkpIC8gMiwgd2lkdGgsIChoZWlnaHQgLyA1KSArIChoZWlnaHQgKiAuMDUpKTtcblxuICAgICAgICBjdHguZm9udCA9IE1hdGguZmxvb3IoKGhlaWdodCAvIDUgKSkgKyAncHggbW9ub3NwYWNlJztcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGN0eC5maWxsVGV4dCgnTk8gU0lHTkFMJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNwbGF5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/Display.js\n");

/***/ }),

/***/ "./src/js/GamepadManager.js":
/*!**********************************!*\
  !*** ./src/js/GamepadManager.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RetroJoypad.js */ \"./src/js/RetroJoypad.js\");\n\n\n/**\n * Threshold for the values of the analog sticks/buttons that determines whether its pressed or not.\n * @type {number}\n * @const\n */\nconst analogThreshold = 0.2;\n\nfunction GamepadManager(client) {\n    var self = this;\n\n    /**\n     * Controller states for the gamepads used this session.\n     * @note gamepad id -> controller state\n     */\n    this.controllerStates = {};\n\n    /**\n     * Controller button -> RetroArch ID layouts for gamepads. Saved between sessions.\n     * @note map, gamepad id -> gamepad layout\n     * @note mirrors exactly the structure of controllerStates, just a different use\n     */\n    this.controllerLayouts = {};\n\n    /**\n     * Time stamp for the last time the browser polled controller input and updated the internal button state.\n     */\n    this.lastPolledTimestamp = [];\n\n    /**\n     * IDs used for requestAnimationFrame.\n     * @note gamepad id -> int(poll input ID) relation\n     */\n    this.pollInputIDs = [];\n\n    /**\n     * Callback registered for when a gamepad is connected.\n     */\n    this.onConnect = function(evt) {\n        if(evt.gamepad.mapping === 'standard') { // Try to use standard map, if supported by controller\n            self.controllerStates[evt.gamepad.id] = self.controllerStates['standard'];\n        } else if(self.controllerStates[evt.gamepad.id] === undefined) { // Fallback on known controllerStates\n            // Unknown controller, tell the user that it will need mapped\n            client.appendMessage('', 'Unknown controller plugged in. Please map it using the keybindings menu.', 'announcement');\n        }\n        self.pollInput(evt.gamepad.index);\n    };\n\n    window.addEventListener('gamepadconnected', this.onConnect);\n\n    /**\n     * Callback registered for when a gamepad is disconnected.\n    */\n    this.onDisconnect = function(evt) {\n        cancelAnimationFrame(self.pollInputIDs[evt.gamepad.id]);\n    };\n\n    window.addEventListener('gamepaddisconnected', this.onDisconnect);\n\n    /**\n     * Main polling loop function that fires button press events\n     */\n    this.pollInput = function(index) {\n        let gamepad = navigator.getGamepads()[index];\n\n        // Controller unplugged but the loop started before the pollInput loop was cancelled.\n        if(gamepad === undefined)\n            return;\n\n        if(self.lastPolledTimestamp[gamepad.id] !== gamepad.timestamp) {\n            self.lastPolledTimestamp[gamepad.id] = gamepad.timestamp;\n        } else {\n            self.pollInputIDs[gamepad.id] = requestAnimationFrame(self.pollInput.bind(self.pollInput, index));\n            return;\n        }\n\n        let state = self.controllerStates[gamepad.id];\n\n        state = state || {};\n        state.buttons = state.buttons || new Array(gamepad.buttons.length);\n        state.axes = state.axes || new Array(gamepad.axes.length);\n\n        // -----------\n        for(let i = 0; i < state.buttons.length;++i) {\n            if(state.buttons[i] === undefined)\n                state.buttons[i] = false;\n\n            // If button state changed\n\n            if(gamepad.buttons[i].pressed !== state.buttons[i]) {\n                if(gamepad.buttons[i].pressed) { // down\n                    let ev = new CustomEvent('gamepadButtonPress',\n                        {detail: {\n                            player: index,\n                            id:     gamepad.id,\n                            button: i,\n                            action: 'down'\n                        }});\n                    window.dispatchEvent(ev);\n                } else { // up\n                    let ev = new CustomEvent('gamepadButtonRelease',\n                        {detail: {\n                            player: index,\n                            id:     gamepad.id,\n                            button: i,\n                            action: 'down'\n                        }});\n                    window.dispatchEvent(ev);\n                }\n            }\n            state.buttons[i] = gamepad.buttons[i].pressed;\n        }\n\n        self.controllerStates[gamepad.id] = state;\n\n        for(let i = 0; i < state.axes.length;++i) {\n            if(state.axes[i] === undefined)\n                state.axes[i] = 0;\n\n            if(gamepad.axes[i] !== state.axes[i]) {\n                let ev = new CustomEvent('gamepadAxesUpdate',\n                    {detail: {\n                        player: index,\n                        id:     gamepad.id,\n                        axes:   i,\n                        value:  {\n                            old: state.axes[i],\n                            new: gamepad.axes[i]\n                        }\n                    }});\n                window.dispatchEvent(ev);\n            }\n            state.axes[i] = gamepad.axes[i];\n        }\n\n        self.pollInputIDs[gamepad.id] = requestAnimationFrame(self.pollInput.bind(self.pollInput, index));\n    };\n\n    // Button order reflects order of buttons in internal layout objects and in the keybindings modal\n    this.buttonOrder = 'B A X Y Up Down Left Right L R L2 R2 L3 R3 Start Select Turn'.split(' ');\n\n    const blankLayout = function() {\n        var layout = {};\n\n        layout.buttons = new Array(self.buttonOrder.length).fill({});\n\n        for(var i in self.buttonOrder)\n            layout.buttons[i] = {\n                name: self.buttonOrder[i],\n                deviceValue: undefined\n            }\n\n        return layout;\n    }();\n\n    this.updateLayout = function() {\n        this.controllerLayouts = client.config.layout;\n    }\n\n    this.getLayout = function(deviceID) {\n        client.config.reload();\n        if(client.config.layout[deviceID])\n            return client.config.layout[deviceID];\n        else\n            return blankLayout;\n    }\n\n    this.setLayout = function(deviceID, layout) {\n        client.config.layout[deviceID] = layout;\n        client.config.save();\n        self.updateLayout();\n    }\n\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GamepadManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvR2FtZXBhZE1hbmFnZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvR2FtZXBhZE1hbmFnZXIuanM/NjkxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmV0cm9Kb3lwYWQgZnJvbSAnLi9SZXRyb0pveXBhZC5qcydcblxuLyoqXG4gKiBUaHJlc2hvbGQgZm9yIHRoZSB2YWx1ZXMgb2YgdGhlIGFuYWxvZyBzdGlja3MvYnV0dG9ucyB0aGF0IGRldGVybWluZXMgd2hldGhlciBpdHMgcHJlc3NlZCBvciBub3QuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbmNvbnN0IGFuYWxvZ1RocmVzaG9sZCA9IDAuMjtcblxuZnVuY3Rpb24gR2FtZXBhZE1hbmFnZXIoY2xpZW50KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogQ29udHJvbGxlciBzdGF0ZXMgZm9yIHRoZSBnYW1lcGFkcyB1c2VkIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBAbm90ZSBnYW1lcGFkIGlkIC0+IGNvbnRyb2xsZXIgc3RhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRyb2xsZXJTdGF0ZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIENvbnRyb2xsZXIgYnV0dG9uIC0+IFJldHJvQXJjaCBJRCBsYXlvdXRzIGZvciBnYW1lcGFkcy4gU2F2ZWQgYmV0d2VlbiBzZXNzaW9ucy5cbiAgICAgKiBAbm90ZSBtYXAsIGdhbWVwYWQgaWQgLT4gZ2FtZXBhZCBsYXlvdXRcbiAgICAgKiBAbm90ZSBtaXJyb3JzIGV4YWN0bHkgdGhlIHN0cnVjdHVyZSBvZiBjb250cm9sbGVyU3RhdGVzLCBqdXN0IGEgZGlmZmVyZW50IHVzZVxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbGxlckxheW91dHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgc3RhbXAgZm9yIHRoZSBsYXN0IHRpbWUgdGhlIGJyb3dzZXIgcG9sbGVkIGNvbnRyb2xsZXIgaW5wdXQgYW5kIHVwZGF0ZWQgdGhlIGludGVybmFsIGJ1dHRvbiBzdGF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RQb2xsZWRUaW1lc3RhbXAgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIElEcyB1c2VkIGZvciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXG4gICAgICogQG5vdGUgZ2FtZXBhZCBpZCAtPiBpbnQocG9sbCBpbnB1dCBJRCkgcmVsYXRpb25cbiAgICAgKi9cbiAgICB0aGlzLnBvbGxJbnB1dElEcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCBmb3Igd2hlbiBhIGdhbWVwYWQgaXMgY29ubmVjdGVkLlxuICAgICAqL1xuICAgIHRoaXMub25Db25uZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmKGV2dC5nYW1lcGFkLm1hcHBpbmcgPT09ICdzdGFuZGFyZCcpIHsgLy8gVHJ5IHRvIHVzZSBzdGFuZGFyZCBtYXAsIGlmIHN1cHBvcnRlZCBieSBjb250cm9sbGVyXG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xsZXJTdGF0ZXNbZXZ0LmdhbWVwYWQuaWRdID0gc2VsZi5jb250cm9sbGVyU3RhdGVzWydzdGFuZGFyZCddO1xuICAgICAgICB9IGVsc2UgaWYoc2VsZi5jb250cm9sbGVyU3RhdGVzW2V2dC5nYW1lcGFkLmlkXSA9PT0gdW5kZWZpbmVkKSB7IC8vIEZhbGxiYWNrIG9uIGtub3duIGNvbnRyb2xsZXJTdGF0ZXNcbiAgICAgICAgICAgIC8vIFVua25vd24gY29udHJvbGxlciwgdGVsbCB0aGUgdXNlciB0aGF0IGl0IHdpbGwgbmVlZCBtYXBwZWRcbiAgICAgICAgICAgIGNsaWVudC5hcHBlbmRNZXNzYWdlKCcnLCAnVW5rbm93biBjb250cm9sbGVyIHBsdWdnZWQgaW4uIFBsZWFzZSBtYXAgaXQgdXNpbmcgdGhlIGtleWJpbmRpbmdzIG1lbnUuJywgJ2Fubm91bmNlbWVudCcpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYucG9sbElucHV0KGV2dC5nYW1lcGFkLmluZGV4KTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2dhbWVwYWRjb25uZWN0ZWQnLCB0aGlzLm9uQ29ubmVjdCk7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayByZWdpc3RlcmVkIGZvciB3aGVuIGEgZ2FtZXBhZCBpcyBkaXNjb25uZWN0ZWQuXG4gICAgKi9cbiAgICB0aGlzLm9uRGlzY29ubmVjdCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShzZWxmLnBvbGxJbnB1dElEc1tldnQuZ2FtZXBhZC5pZF0pO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZGRpc2Nvbm5lY3RlZCcsIHRoaXMub25EaXNjb25uZWN0KTtcblxuICAgIC8qKlxuICAgICAqIE1haW4gcG9sbGluZyBsb29wIGZ1bmN0aW9uIHRoYXQgZmlyZXMgYnV0dG9uIHByZXNzIGV2ZW50c1xuICAgICAqL1xuICAgIHRoaXMucG9sbElucHV0ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgbGV0IGdhbWVwYWQgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKVtpbmRleF07XG5cbiAgICAgICAgLy8gQ29udHJvbGxlciB1bnBsdWdnZWQgYnV0IHRoZSBsb29wIHN0YXJ0ZWQgYmVmb3JlIHRoZSBwb2xsSW5wdXQgbG9vcCB3YXMgY2FuY2VsbGVkLlxuICAgICAgICBpZihnYW1lcGFkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYoc2VsZi5sYXN0UG9sbGVkVGltZXN0YW1wW2dhbWVwYWQuaWRdICE9PSBnYW1lcGFkLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgc2VsZi5sYXN0UG9sbGVkVGltZXN0YW1wW2dhbWVwYWQuaWRdID0gZ2FtZXBhZC50aW1lc3RhbXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnBvbGxJbnB1dElEc1tnYW1lcGFkLmlkXSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzZWxmLnBvbGxJbnB1dC5iaW5kKHNlbGYucG9sbElucHV0LCBpbmRleCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXRlID0gc2VsZi5jb250cm9sbGVyU3RhdGVzW2dhbWVwYWQuaWRdO1xuXG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XG4gICAgICAgIHN0YXRlLmJ1dHRvbnMgPSBzdGF0ZS5idXR0b25zIHx8IG5ldyBBcnJheShnYW1lcGFkLmJ1dHRvbnMubGVuZ3RoKTtcbiAgICAgICAgc3RhdGUuYXhlcyA9IHN0YXRlLmF4ZXMgfHwgbmV3IEFycmF5KGdhbWVwYWQuYXhlcy5sZW5ndGgpO1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdGF0ZS5idXR0b25zLmxlbmd0aDsrK2kpIHtcbiAgICAgICAgICAgIGlmKHN0YXRlLmJ1dHRvbnNbaV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBzdGF0ZS5idXR0b25zW2ldID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIElmIGJ1dHRvbiBzdGF0ZSBjaGFuZ2VkXG5cbiAgICAgICAgICAgIGlmKGdhbWVwYWQuYnV0dG9uc1tpXS5wcmVzc2VkICE9PSBzdGF0ZS5idXR0b25zW2ldKSB7XG4gICAgICAgICAgICAgICAgaWYoZ2FtZXBhZC5idXR0b25zW2ldLnByZXNzZWQpIHsgLy8gZG93blxuICAgICAgICAgICAgICAgICAgICBsZXQgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2dhbWVwYWRCdXR0b25QcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogICAgIGdhbWVwYWQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2Rvd24nXG4gICAgICAgICAgICAgICAgICAgICAgICB9fSk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyB1cFxuICAgICAgICAgICAgICAgICAgICBsZXQgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2dhbWVwYWRCdXR0b25SZWxlYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXI6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAgICAgZ2FtZXBhZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246IGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZG93bidcbiAgICAgICAgICAgICAgICAgICAgICAgIH19KTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmJ1dHRvbnNbaV0gPSBnYW1lcGFkLmJ1dHRvbnNbaV0ucHJlc3NlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuY29udHJvbGxlclN0YXRlc1tnYW1lcGFkLmlkXSA9IHN0YXRlO1xuXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdGF0ZS5heGVzLmxlbmd0aDsrK2kpIHtcbiAgICAgICAgICAgIGlmKHN0YXRlLmF4ZXNbaV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBzdGF0ZS5heGVzW2ldID0gMDtcblxuICAgICAgICAgICAgaWYoZ2FtZXBhZC5heGVzW2ldICE9PSBzdGF0ZS5heGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KCdnYW1lcGFkQXhlc1VwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHtkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogICAgIGdhbWVwYWQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBheGVzOiAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQ6IHN0YXRlLmF4ZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3OiBnYW1lcGFkLmF4ZXNbaV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX0pO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmF4ZXNbaV0gPSBnYW1lcGFkLmF4ZXNbaV07XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnBvbGxJbnB1dElEc1tnYW1lcGFkLmlkXSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzZWxmLnBvbGxJbnB1dC5iaW5kKHNlbGYucG9sbElucHV0LCBpbmRleCkpO1xuICAgIH07XG5cbiAgICAvLyBCdXR0b24gb3JkZXIgcmVmbGVjdHMgb3JkZXIgb2YgYnV0dG9ucyBpbiBpbnRlcm5hbCBsYXlvdXQgb2JqZWN0cyBhbmQgaW4gdGhlIGtleWJpbmRpbmdzIG1vZGFsXG4gICAgdGhpcy5idXR0b25PcmRlciA9ICdCIEEgWCBZIFVwIERvd24gTGVmdCBSaWdodCBMIFIgTDIgUjIgTDMgUjMgU3RhcnQgU2VsZWN0IFR1cm4nLnNwbGl0KCcgJyk7XG5cbiAgICBjb25zdCBibGFua0xheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGF5b3V0ID0ge307XG5cbiAgICAgICAgbGF5b3V0LmJ1dHRvbnMgPSBuZXcgQXJyYXkoc2VsZi5idXR0b25PcmRlci5sZW5ndGgpLmZpbGwoe30pO1xuXG4gICAgICAgIGZvcih2YXIgaSBpbiBzZWxmLmJ1dHRvbk9yZGVyKVxuICAgICAgICAgICAgbGF5b3V0LmJ1dHRvbnNbaV0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogc2VsZi5idXR0b25PcmRlcltpXSxcbiAgICAgICAgICAgICAgICBkZXZpY2VWYWx1ZTogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxheW91dDtcbiAgICB9KCk7XG5cbiAgICB0aGlzLnVwZGF0ZUxheW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXJMYXlvdXRzID0gY2xpZW50LmNvbmZpZy5sYXlvdXQ7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRMYXlvdXQgPSBmdW5jdGlvbihkZXZpY2VJRCkge1xuICAgICAgICBjbGllbnQuY29uZmlnLnJlbG9hZCgpO1xuICAgICAgICBpZihjbGllbnQuY29uZmlnLmxheW91dFtkZXZpY2VJRF0pXG4gICAgICAgICAgICByZXR1cm4gY2xpZW50LmNvbmZpZy5sYXlvdXRbZGV2aWNlSURdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gYmxhbmtMYXlvdXQ7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRMYXlvdXQgPSBmdW5jdGlvbihkZXZpY2VJRCwgbGF5b3V0KSB7XG4gICAgICAgIGNsaWVudC5jb25maWcubGF5b3V0W2RldmljZUlEXSA9IGxheW91dDtcbiAgICAgICAgY2xpZW50LmNvbmZpZy5zYXZlKCk7XG4gICAgICAgIHNlbGYudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG59XG5leHBvcnQgZGVmYXVsdCBHYW1lcGFkTWFuYWdlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/GamepadManager.js\n");

/***/ }),

/***/ "./src/js/KeybindModal.js":
/*!********************************!*\
  !*** ./src/js/KeybindModal.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RetroJoypad.js */ \"./src/js/RetroJoypad.js\");\n\n\nfunction KeybindModal(client) {\n    var self = this;\n\n    this.listening = false;\n\n    this.configuringDevice = undefined;\n\n    this.configuringButton = undefined;\n\n    this.unsavedLayout;\n    //              { Button event\n    // Controller --\n    //              { Axes event\n    // Keyboard\n\n    // On open, listen for events from controller or keyboard\n    // called from modal open code in LetsPlayClient\n    this.startListen = function() {\n        client.config.reload();\n        self.listening = true;\n    }\n\n    this.stopListen = function() {\n        client.gamepadManager.setLayout(self.configuringDevice, self.unsavedLayout);\n        self.configuringDevice = self.configuringButton = self.unsavedLayout = undefined;\n        self.listening = false;\n    }\n\n    window.addEventListener('gamepadButtonPress', function(evt) {\n        if(self.listening === false)\n            return;\n\n        if(self.configuringDevice === undefined) { // Waiting for a button press to select device\n            self.configuringDevice = evt.detail.id;\n            // Tell client to display keybindings\n            client.displayBindings(evt.detail.id);\n            self.unsavedLayout = client.gamepadManager.getLayout(evt.detail.id);\n            // Client will pull from config the button layout for the device being configured\n            ;\n            // Client will populate the button text with the button id/key name\n            ;\n            // Finally, exit this event thing\n            return;\n        }\n\n        if(evt.detail.id !== self.configuringDevice)\n            return;\n\n        if(self.configuringButton !== undefined) { // Waiting for a button press to configure key\n            // Change text display\n            $('#' + self.configuringButton).text('Button ' + evt.detail.button);\n            // Update localStorage keybindings\n            for(let i in self.unsavedLayout.buttons) {\n                if(self.unsavedLayout.buttons[i].name === self.configuringButton) {\n                    self.unsavedLayout.buttons[i].deviceValue = evt.detail.button;\n                }\n            }\n            self.configuringButton = undefined;\n        }\n    });\n\n    window.addEventListener('keydown', function(evt) {\n        if(self.listening === false)\n            return;\n\n        if(self.configuringDevice === undefined) { // Waiting for a button press\n            self.configuringDevice = 'keyboard';\n            // Tell client to display keybindings\n            client.displayBindings('keyboard');\n            // Client will pull from localStorage the button layout for the device being configured\n            // Client will populate the button text with the button id/key name\n            // Finally, exit this event thing\n            return;\n        }\n\n        if(self.configuringButton !== undefined) {\n\n        }\n\n        if(evt.detail.id !== self.configuringDevice)\n            return;\n\n    });\n\n    // Pull config for that device from localStorage\n\n    // Set internal value that says we are configuring a specific device\n\n    // On press-a-key press, update internal value that says which key we are changing\n\n    // controller layouts are as such:\n    /* 'gamepad ID' {\n     *      buttons: {\n     *          RetroJoypad['Value']: Device ID\n     *      },\n     *      axes: {\n     *          // To be implemented\n     *      }\n     * }\n     */\n\n    // Once a key is pressed on the device we are configuring, update its config value and save to localStorage. Notify gm that there was an update and that it should pull it.\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (KeybindModal);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvS2V5YmluZE1vZGFsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0tleWJpbmRNb2RhbC5qcz9hMjJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXRyb0pveXBhZCBmcm9tICcuL1JldHJvSm95cGFkLmpzJ1xuXG5mdW5jdGlvbiBLZXliaW5kTW9kYWwoY2xpZW50KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5saXN0ZW5pbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuY29uZmlndXJpbmdEZXZpY2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmNvbmZpZ3VyaW5nQnV0dG9uID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy51bnNhdmVkTGF5b3V0O1xuICAgIC8vICAgICAgICAgICAgICB7IEJ1dHRvbiBldmVudFxuICAgIC8vIENvbnRyb2xsZXIgLS1cbiAgICAvLyAgICAgICAgICAgICAgeyBBeGVzIGV2ZW50XG4gICAgLy8gS2V5Ym9hcmRcblxuICAgIC8vIE9uIG9wZW4sIGxpc3RlbiBmb3IgZXZlbnRzIGZyb20gY29udHJvbGxlciBvciBrZXlib2FyZFxuICAgIC8vIGNhbGxlZCBmcm9tIG1vZGFsIG9wZW4gY29kZSBpbiBMZXRzUGxheUNsaWVudFxuICAgIHRoaXMuc3RhcnRMaXN0ZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xpZW50LmNvbmZpZy5yZWxvYWQoKTtcbiAgICAgICAgc2VsZi5saXN0ZW5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuc3RvcExpc3RlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGllbnQuZ2FtZXBhZE1hbmFnZXIuc2V0TGF5b3V0KHNlbGYuY29uZmlndXJpbmdEZXZpY2UsIHNlbGYudW5zYXZlZExheW91dCk7XG4gICAgICAgIHNlbGYuY29uZmlndXJpbmdEZXZpY2UgPSBzZWxmLmNvbmZpZ3VyaW5nQnV0dG9uID0gc2VsZi51bnNhdmVkTGF5b3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBzZWxmLmxpc3RlbmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnYW1lcGFkQnV0dG9uUHJlc3MnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYoc2VsZi5saXN0ZW5pbmcgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmKHNlbGYuY29uZmlndXJpbmdEZXZpY2UgPT09IHVuZGVmaW5lZCkgeyAvLyBXYWl0aW5nIGZvciBhIGJ1dHRvbiBwcmVzcyB0byBzZWxlY3QgZGV2aWNlXG4gICAgICAgICAgICBzZWxmLmNvbmZpZ3VyaW5nRGV2aWNlID0gZXZ0LmRldGFpbC5pZDtcbiAgICAgICAgICAgIC8vIFRlbGwgY2xpZW50IHRvIGRpc3BsYXkga2V5YmluZGluZ3NcbiAgICAgICAgICAgIGNsaWVudC5kaXNwbGF5QmluZGluZ3MoZXZ0LmRldGFpbC5pZCk7XG4gICAgICAgICAgICBzZWxmLnVuc2F2ZWRMYXlvdXQgPSBjbGllbnQuZ2FtZXBhZE1hbmFnZXIuZ2V0TGF5b3V0KGV2dC5kZXRhaWwuaWQpO1xuICAgICAgICAgICAgLy8gQ2xpZW50IHdpbGwgcHVsbCBmcm9tIGNvbmZpZyB0aGUgYnV0dG9uIGxheW91dCBmb3IgdGhlIGRldmljZSBiZWluZyBjb25maWd1cmVkXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAvLyBDbGllbnQgd2lsbCBwb3B1bGF0ZSB0aGUgYnV0dG9uIHRleHQgd2l0aCB0aGUgYnV0dG9uIGlkL2tleSBuYW1lXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAvLyBGaW5hbGx5LCBleGl0IHRoaXMgZXZlbnQgdGhpbmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGV2dC5kZXRhaWwuaWQgIT09IHNlbGYuY29uZmlndXJpbmdEZXZpY2UpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYoc2VsZi5jb25maWd1cmluZ0J1dHRvbiAhPT0gdW5kZWZpbmVkKSB7IC8vIFdhaXRpbmcgZm9yIGEgYnV0dG9uIHByZXNzIHRvIGNvbmZpZ3VyZSBrZXlcbiAgICAgICAgICAgIC8vIENoYW5nZSB0ZXh0IGRpc3BsYXlcbiAgICAgICAgICAgICQoJyMnICsgc2VsZi5jb25maWd1cmluZ0J1dHRvbikudGV4dCgnQnV0dG9uICcgKyBldnQuZGV0YWlsLmJ1dHRvbik7XG4gICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWxTdG9yYWdlIGtleWJpbmRpbmdzXG4gICAgICAgICAgICBmb3IobGV0IGkgaW4gc2VsZi51bnNhdmVkTGF5b3V0LmJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgICBpZihzZWxmLnVuc2F2ZWRMYXlvdXQuYnV0dG9uc1tpXS5uYW1lID09PSBzZWxmLmNvbmZpZ3VyaW5nQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYudW5zYXZlZExheW91dC5idXR0b25zW2ldLmRldmljZVZhbHVlID0gZXZ0LmRldGFpbC5idXR0b247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5jb25maWd1cmluZ0J1dHRvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYoc2VsZi5saXN0ZW5pbmcgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmKHNlbGYuY29uZmlndXJpbmdEZXZpY2UgPT09IHVuZGVmaW5lZCkgeyAvLyBXYWl0aW5nIGZvciBhIGJ1dHRvbiBwcmVzc1xuICAgICAgICAgICAgc2VsZi5jb25maWd1cmluZ0RldmljZSA9ICdrZXlib2FyZCc7XG4gICAgICAgICAgICAvLyBUZWxsIGNsaWVudCB0byBkaXNwbGF5IGtleWJpbmRpbmdzXG4gICAgICAgICAgICBjbGllbnQuZGlzcGxheUJpbmRpbmdzKCdrZXlib2FyZCcpO1xuICAgICAgICAgICAgLy8gQ2xpZW50IHdpbGwgcHVsbCBmcm9tIGxvY2FsU3RvcmFnZSB0aGUgYnV0dG9uIGxheW91dCBmb3IgdGhlIGRldmljZSBiZWluZyBjb25maWd1cmVkXG4gICAgICAgICAgICAvLyBDbGllbnQgd2lsbCBwb3B1bGF0ZSB0aGUgYnV0dG9uIHRleHQgd2l0aCB0aGUgYnV0dG9uIGlkL2tleSBuYW1lXG4gICAgICAgICAgICAvLyBGaW5hbGx5LCBleGl0IHRoaXMgZXZlbnQgdGhpbmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHNlbGYuY29uZmlndXJpbmdCdXR0b24gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZihldnQuZGV0YWlsLmlkICE9PSBzZWxmLmNvbmZpZ3VyaW5nRGV2aWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgfSk7XG5cbiAgICAvLyBQdWxsIGNvbmZpZyBmb3IgdGhhdCBkZXZpY2UgZnJvbSBsb2NhbFN0b3JhZ2VcblxuICAgIC8vIFNldCBpbnRlcm5hbCB2YWx1ZSB0aGF0IHNheXMgd2UgYXJlIGNvbmZpZ3VyaW5nIGEgc3BlY2lmaWMgZGV2aWNlXG5cbiAgICAvLyBPbiBwcmVzcy1hLWtleSBwcmVzcywgdXBkYXRlIGludGVybmFsIHZhbHVlIHRoYXQgc2F5cyB3aGljaCBrZXkgd2UgYXJlIGNoYW5naW5nXG5cbiAgICAvLyBjb250cm9sbGVyIGxheW91dHMgYXJlIGFzIHN1Y2g6XG4gICAgLyogJ2dhbWVwYWQgSUQnIHtcbiAgICAgKiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgKiAgICAgICAgICBSZXRyb0pveXBhZFsnVmFsdWUnXTogRGV2aWNlIElEXG4gICAgICogICAgICB9LFxuICAgICAqICAgICAgYXhlczoge1xuICAgICAqICAgICAgICAgIC8vIFRvIGJlIGltcGxlbWVudGVkXG4gICAgICogICAgICB9XG4gICAgICogfVxuICAgICAqL1xuXG4gICAgLy8gT25jZSBhIGtleSBpcyBwcmVzc2VkIG9uIHRoZSBkZXZpY2Ugd2UgYXJlIGNvbmZpZ3VyaW5nLCB1cGRhdGUgaXRzIGNvbmZpZyB2YWx1ZSBhbmQgc2F2ZSB0byBsb2NhbFN0b3JhZ2UuIE5vdGlmeSBnbSB0aGF0IHRoZXJlIHdhcyBhbiB1cGRhdGUgYW5kIHRoYXQgaXQgc2hvdWxkIHB1bGwgaXQuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJpbmRNb2RhbDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/KeybindModal.js\n");

/***/ }),

/***/ "./src/js/Keyboard.js":
/*!****************************!*\
  !*** ./src/js/Keyboard.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RetroJoypad.js */ \"./src/js/RetroJoypad.js\");\n\n\nvar Keyboard = {\n    keyAsRetroID: {\n        'x':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['B'],\n        'c':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['A'],\n        's':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['X'],\n        'a':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Y'],\n        'ArrowUp':      _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Up'],\n        'ArrowDown':    _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Down'],\n        'ArrowLeft':    _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Left'],\n        'ArrowRight':   _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Right'],\n        'Tab':          _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Select'],\n        'Enter':        _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['Start'],\n        'q':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['L'],\n        'e':            _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]['R']\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Keyboard);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvS2V5Ym9hcmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvS2V5Ym9hcmQuanM/ZmNkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmV0cm9Kb3lwYWQgZnJvbSAnLi9SZXRyb0pveXBhZC5qcydcblxudmFyIEtleWJvYXJkID0ge1xuICAgIGtleUFzUmV0cm9JRDoge1xuICAgICAgICAneCc6ICAgICAgICAgICAgUmV0cm9Kb3lwYWRbJ0InXSxcbiAgICAgICAgJ2MnOiAgICAgICAgICAgIFJldHJvSm95cGFkWydBJ10sXG4gICAgICAgICdzJzogICAgICAgICAgICBSZXRyb0pveXBhZFsnWCddLFxuICAgICAgICAnYSc6ICAgICAgICAgICAgUmV0cm9Kb3lwYWRbJ1knXSxcbiAgICAgICAgJ0Fycm93VXAnOiAgICAgIFJldHJvSm95cGFkWydVcCddLFxuICAgICAgICAnQXJyb3dEb3duJzogICAgUmV0cm9Kb3lwYWRbJ0Rvd24nXSxcbiAgICAgICAgJ0Fycm93TGVmdCc6ICAgIFJldHJvSm95cGFkWydMZWZ0J10sXG4gICAgICAgICdBcnJvd1JpZ2h0JzogICBSZXRyb0pveXBhZFsnUmlnaHQnXSxcbiAgICAgICAgJ1RhYic6ICAgICAgICAgIFJldHJvSm95cGFkWydTZWxlY3QnXSxcbiAgICAgICAgJ0VudGVyJzogICAgICAgIFJldHJvSm95cGFkWydTdGFydCddLFxuICAgICAgICAncSc6ICAgICAgICAgICAgUmV0cm9Kb3lwYWRbJ0wnXSxcbiAgICAgICAgJ2UnOiAgICAgICAgICAgIFJldHJvSm95cGFkWydSJ11cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/Keyboard.js\n");

/***/ }),

/***/ "./src/js/LetsPlayClient.js":
/*!**********************************!*\
  !*** ./src/js/LetsPlayClient.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Keyboard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Keyboard.js */ \"./src/js/Keyboard.js\");\n/* harmony import */ var _Display_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Display.js */ \"./src/js/Display.js\");\n/* harmony import */ var _KeybindModal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./KeybindModal.js */ \"./src/js/KeybindModal.js\");\n/* harmony import */ var _LetsPlayConfig_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LetsPlayConfig.js */ \"./src/js/LetsPlayConfig.js\");\n/* harmony import */ var _GamepadManager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GamepadManager.js */ \"./src/js/GamepadManager.js\");\n\n\n\n\n\n\nfunction LetsPlayClient() {\n    var self = this;\n\n    // Initialize the display\n    this.display = new _Display_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n    // Initialize the keybind modal\n    this.keybindModal = new _KeybindModal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](self);\n\n    this.config = new _LetsPlayConfig_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n    this.gamepadManager = new _GamepadManager_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](self);\n\n    // JS implicit object reference magic\n    this.connection = {};\n    var connection = this.connection;\n    var socket;\n\n    /**\n     * List of who's online.\n     * @type {string[]}\n     */\n    this.onlineUsers = [];\n\n    /**\n     * Turn queue list.\n     * @type {string[]}\n     */\n    this.turnQueue = [];\n\n    /**\n     * Bool for whether or not the user has a turn (prevents accidental button sends or keyboard key captures). Whether or not the user *actually* has a turn and can control the emulator is determined by the server.\n     * @type {boolean}\n     */\n    this.hasTurn = false;\n\n\n    function escapeHtml(unsafe) {\n        return unsafe\n             .replace(/&/g, \"&amp;\")\n             .replace(/</g, \"&lt;\")\n             .replace(/>/g, \"&gt;\")\n             .replace(/\"/g, \"&quot;\")\n             .replace(/'/g, \"&#039;\");\n     }\n\n    // Add a new message to the chat\n    this.appendMessage = function(who, message, type=\"chat\") {\n        switch(type) {\n            case \"chat\":\n                $(` <div class=\"chat-item\">\n                        <p class=\"username\">` + escapeHtml(who) + `</p>\n                        <p class=\"separator\">:</p>\n                        <span class=\"chat-text\">` + escapeHtml(message) + `</span>\n                    </div>`)\n                    .appendTo('#chat-list-items');\n                break;\n            case \"announcement\":\n                $(` <div class=\"chat-item\">\n                        <span class=\"chat-announcement\">` + escapeHtml(message) + `</span>\n                    </div>`)\n                .appendTo('#chat-list-items');\n                break;\n        }\n        // Set scroll to bottom\n        let chat_list = document.getElementById('chat-list-items');\n        chat_list.scrollTop = chat_list.scrollHeight;\n    };\n\n    this.sendChatboxContent = function() {\n        socket.send('chat',\n                    $('#chat-input-box').val().trim());\n        $('#chat-input-box').val('');\n    };\n\n    this.hideModal = function(DOMSelector) {\n        let jElem = $(DOMSelector);\n        jElem.css('opacity', '0');\n        setTimeout(function() {\n            jElem.removeClass('modal-active');\n            jElem.css('opacity', '');\n        }, 200);\n\n        console.log(jElem);\n        if(jElem[0].id === 'keybind-modal') {\n            self.keybindModal.stopListen();\n            $('#keybindings-prompt').addClass('d-hidden');\n            $('#keybindings-content').removeClass('d-hidden');\n        }\n    };\n\n    this.showModal = function(DOMSelector) {\n        let jElem = $(DOMSelector);\n        jElem.css('opacity', '0');\n        jElem.addClass('modal-active');\n        // Firefox doesn't animate this right if there's no delay (chromium is the same way, but the setTimeout can be set to 1)\n        setTimeout(function() {\n            jElem.css('opacity', '100');\n        }, 10);\n\n        if(jElem[0].id === 'keybind-modal') {\n            $('#keybindings-content').addClass('d-hidden');\n            $('#keybindings-prompt').removeClass('d-hidden');\n        }\n    };\n\n    this.updateSocket = function(newSocket) {\n        self.connection = newSocket.socket;\n        connection = newSocket.socket;\n        socket = newSocket;\n    };\n\n    this.invalidUsername = function() {\n        $('#username-modal-subtitle').css('color', '#e42e2e');\n        $('.username-group').addClass('shake-horizontal');\n        setTimeout(function() {\n            $('#username-modal-subtitle').css('color', '');\n        }, 500);\n        setTimeout(function() {\n            $('.username-group').removeClass('shake-horizontal');\n        }, 900);\n    };\n\n    this.validUsername = function(newUsername) {\n        localStorage.setItem('username', newUsername);\n        self.hideModal('.modal-active');\n    };\n\n    this.setUsername = function(newUsername) {\n        if(!socket.pendingValidation && socket.rawSocket.readyState === WebSocket.OPEN) {\n            socket.pendingValidation = true;\n            socket.send('username', newUsername);\n        }\n    };\n\n    this.updateOnlineUsers = function(list) {\n        self.onlineUsers = list.sort();\n        self.updateUserList();\n    }\n\n    this.updateTurnList = function(list) {\n        if(list.length > 0) {\n            // If there was a change in who has a turn\n            if(list[0] !== self.turnQueue[0])\n                self.appendMessage('', list[0] + ' now has a turn.', 'announcement');\n\n            if(list[0] === localStorage.getItem('username')) {\n                self.hasTurn = true;\n                $('#screen').addClass('turn');\n            } else {\n                self.hasTurn = false;\n                $('#screen').removeClass('turn');\n            }\n        } else {\n            self.hasTurn = false;\n            $('#screen').removeClass('turn');\n        }\n\n        self.turnQueue = list;\n\n        self.updateUserList();\n    }\n\n    this.updateUserList = function() {\n        $('#user-list').empty();\n        self.turnQueue.forEach(user => {\n            $(`<div class=\"user-list-item turn\">\n                    <p>` + escapeHtml(user) + `</p>\n                </div>`).appendTo('#user-list');\n        });\n\n        self.onlineUsers.sort();\n        self.onlineUsers.forEach(user => {\n            if(self.turnQueue.indexOf(user) === -1) {\n                $(`<div class=\"user-list-item\">\n                        <p>` + escapeHtml(user) + `</p>\n                    </div>`).appendTo('#user-list');\n            }\n        });\n\n        self.updateUserCount();\n    }\n\n    this.updateUserCount = function() {\n        let count = self.onlineUsers.length,\n            s = '';\n        if(count === 0)\n            s += 'No Users';\n        else if(count === 1)\n            s += '1 User';\n        else\n            s += '' + count + ' Users';\n\n        s += ' Online';\n\n        $('#user-list-title').children().first().text(s);\n    };\n\n    this.updateEmuInfo = function() {\n        $('#minUsernameLength').text(socket.currentEmu.minUsernameLength);\n        $('#maxUsernameLength').text(socket.currentEmu.maxUsernameLength);\n\n        document.getElementById('chat-input-box').maxLength = socket.currentEmu.maxMessageSize;\n\n        $('#room-info').text(socket.currentEmu.name);\n    };\n\n    this.addUser = function(who) {\n        self.onlineUsers.push(who);\n        self.onlineUsers.sort();\n        self.updateOnlineUsers(self.onlineUsers);\n    };\n\n    this.removeUser = function(who) {\n        self.updateOnlineUsers(self.onlineUsers.filter(word => word !== who));\n    };\n\n    this.renameUser = function(who, toWhat) {\n        let i = self.onlineUsers.indexOf(who);\n        if(i !== -1)\n            self.onlineUsers[i] = toWhat;\n\n        let j = self.turnQueue.indexOf(who);\n        if(j !== -1)\n            self.turnQueue[i] = toWhat;\n\n        self.updateUserList();\n    };\n\n    this.displayBindings = function(deviceID) {\n        $('#keybindings-prompt').addClass('d-hidden');\n        $('#keybindings-content').removeClass('d-hidden');\n\n        var currentLayout = self.gamepadManager.getLayout(deviceID);\n\n        let buttonBinds = currentLayout.buttons;\n\n        $('#keybinding-binds').empty();\n        $('#keybinding-binds').append('<b>Binding</b>');\n        for(let i in buttonBinds) {\n            let buttonName = buttonBinds[i].name;\n            var bindText;\n\n            if(buttonBinds[i].deviceValue === undefined)\n                bindText = '(unmapped)';\n            else if(deviceID !== 'keyboard')\n                bindText = 'Button ' + buttonBinds[i].deviceValue;\n            else\n                bindText = buttonBinds[i].deviceValue;\n\n            $('#keybinding-binds').append('<div id=\"' + buttonName + '\" class=\"press-a-key\">' + bindText + '</div>');\n        };\n\n        $('.press-a-key').click(e => {\n            self.keybindModal.configuringButton = e.target.id;\n        });\n    }\n\n    // When outside box of modal is clicked, close it\n    $(document).on(\"click\", \".modal\", e => {\n        let target = $(e.target || e.srcElement);\n        if (target.is(\".modal\")) {\n            self.hideModal('.modal-active');\n        }\n    });\n\n    $('.modal').keyup(e => {\n        if(e.which === 27 /* Escape */) {\n            self.hideModal(e.delegateTarget);\n        }\n    });\n\n    $('#keybindings-cancel,#username-cancel').click(() => {\n        self.keybindModal.stopListen();\n        self.hideModal('.modal-active');\n    });\n\n    $('#username-submit').click(() => {\n        self.setUsername($('#username-input').val());\n    });\n\n    $('#settings-username').click(() => {\n        self.showModal('#username-modal');\n        $('#username-input').val(localStorage.getItem('username') || '');\n    });\n\n    $('#settings-keybindings').click(e => {\n        self.keybindModal.startListen();\n        self.showModal('#keybind-modal');\n    });\n\n    // On enter (not shift-enter), send chatbox contents as a chat message\n    document.getElementById('chat-input-box').onkeyup = function(e) {\n        if((e.key == 'Enter') || (e.keyCode == 13) && !e.shiftKey) {\n            e.preventDefault();\n            self.sendChatboxContent();\n        }\n    }\n\n    // On enter, set username\n    document.getElementById('username-input').onkeyup = e => {\n        if(e.key == 'Enter' || e.keyCode == 13) {\n            e.preventDefault();\n            self.setUsername($('#username-input').val() || '');\n        }\n    }\n\n    // Send chatbox contents on send button click\n    $('#send-btn').click(self.sendChatboxContent);\n\n    document.getElementById('screen').onkeydown = e => {\n        if(!self.hasTurn) return;\n        if(_Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] !== undefined && !e.repeat) {\n            e.preventDefault();\n            socket.send('button', 'down', _Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] + '');\n        }\n    };\n\n    document.getElementById('screen').onkeyup = e => {\n        if(!self.hasTurn) return;\n        if(_Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] !== undefined && !e.repeat) {\n            e.preventDefault();\n            socket.send('button', 'up', _Keyboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].keyAsRetroID[e.key] + '');\n        }\n    };\n\n    $('#screen').click(e => {\n        if(!self.hasTurn)\n            socket.send('turn');\n    });\n\n    // Hide the settings dialogue if anything other than the navbar or settings dialogue is clicked\n    document.getElementById('emu-view').onclick = function(e) {\n        let target = e.srcElement || e.target;\n        if((target.id != 'settings-btn') && (target.className != 'material-icons'))\n            $('#settings-popup').css('display', 'none');\n    };\n\n    // Show the settings dialogue when the settings button is clicked\n    $('#settings-btn').click(e => {\n        $('#settings-popup').css('display', 'flex');\n    });\n\n    $('#user-list-close').click(e => {\n        $('#user-list-pane').removeClass('d-flex');\n        $('#chat-pane').addClass('d-flex');\n    });\n\n    $('#list-btn').click(e => {\n        $('#chat-pane').removeClass('d-flex');\n        $('#user-list-pane').addClass('d-flex');\n    });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlayClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlDbGllbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGV0c1BsYXlDbGllbnQuanM/MTFkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9LZXlib2FyZC5qcydcbmltcG9ydCBEaXNwbGF5IGZyb20gJy4vRGlzcGxheS5qcydcbmltcG9ydCBLZXliaW5kTW9kYWwgZnJvbSAnLi9LZXliaW5kTW9kYWwuanMnXG5pbXBvcnQgTGV0c1BsYXlDb25maWcgZnJvbSAnLi9MZXRzUGxheUNvbmZpZy5qcydcbmltcG9ydCBHYW1lcGFkTWFuYWdlciBmcm9tICcuL0dhbWVwYWRNYW5hZ2VyLmpzJ1xuXG5mdW5jdGlvbiBMZXRzUGxheUNsaWVudCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBkaXNwbGF5XG4gICAgdGhpcy5kaXNwbGF5ID0gbmV3IERpc3BsYXkoKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIGtleWJpbmQgbW9kYWxcbiAgICB0aGlzLmtleWJpbmRNb2RhbCA9IG5ldyBLZXliaW5kTW9kYWwoc2VsZik7XG5cbiAgICB0aGlzLmNvbmZpZyA9IG5ldyBMZXRzUGxheUNvbmZpZygpO1xuXG4gICAgdGhpcy5nYW1lcGFkTWFuYWdlciA9IG5ldyBHYW1lcGFkTWFuYWdlcihzZWxmKTtcblxuICAgIC8vIEpTIGltcGxpY2l0IG9iamVjdCByZWZlcmVuY2UgbWFnaWNcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSB7fTtcbiAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICB2YXIgc29ja2V0O1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiB3aG8ncyBvbmxpbmUuXG4gICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMub25saW5lVXNlcnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFR1cm4gcXVldWUgbGlzdC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICovXG4gICAgdGhpcy50dXJuUXVldWUgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEJvb2wgZm9yIHdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIGhhcyBhIHR1cm4gKHByZXZlbnRzIGFjY2lkZW50YWwgYnV0dG9uIHNlbmRzIG9yIGtleWJvYXJkIGtleSBjYXB0dXJlcykuIFdoZXRoZXIgb3Igbm90IHRoZSB1c2VyICphY3R1YWxseSogaGFzIGEgdHVybiBhbmQgY2FuIGNvbnRyb2wgdGhlIGVtdWxhdG9yIGlzIGRldGVybWluZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmhhc1R1cm4gPSBmYWxzZTtcblxuXG4gICAgZnVuY3Rpb24gZXNjYXBlSHRtbCh1bnNhZmUpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZVxuICAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIilcbiAgICAgICAgICAgICAucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcbiAgICAgICAgICAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcbiAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIilcbiAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKTtcbiAgICAgfVxuXG4gICAgLy8gQWRkIGEgbmV3IG1lc3NhZ2UgdG8gdGhlIGNoYXRcbiAgICB0aGlzLmFwcGVuZE1lc3NhZ2UgPSBmdW5jdGlvbih3aG8sIG1lc3NhZ2UsIHR5cGU9XCJjaGF0XCIpIHtcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjaGF0XCI6XG4gICAgICAgICAgICAgICAgJChgIDxkaXYgY2xhc3M9XCJjaGF0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidXNlcm5hbWVcIj5gICsgZXNjYXBlSHRtbCh3aG8pICsgYDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwic2VwYXJhdG9yXCI+OjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hhdC10ZXh0XCI+YCArIGVzY2FwZUh0bWwobWVzc2FnZSkgKyBgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJyNjaGF0LWxpc3QtaXRlbXMnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhbm5vdW5jZW1lbnRcIjpcbiAgICAgICAgICAgICAgICAkKGAgPGRpdiBjbGFzcz1cImNoYXQtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGF0LWFubm91bmNlbWVudFwiPmAgKyBlc2NhcGVIdG1sKG1lc3NhZ2UpICsgYDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YClcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJyNjaGF0LWxpc3QtaXRlbXMnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgc2Nyb2xsIHRvIGJvdHRvbVxuICAgICAgICBsZXQgY2hhdF9saXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXQtbGlzdC1pdGVtcycpO1xuICAgICAgICBjaGF0X2xpc3Quc2Nyb2xsVG9wID0gY2hhdF9saXN0LnNjcm9sbEhlaWdodDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kQ2hhdGJveENvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc29ja2V0LnNlbmQoJ2NoYXQnLFxuICAgICAgICAgICAgICAgICAgICAkKCcjY2hhdC1pbnB1dC1ib3gnKS52YWwoKS50cmltKCkpO1xuICAgICAgICAkKCcjY2hhdC1pbnB1dC1ib3gnKS52YWwoJycpO1xuICAgIH07XG5cbiAgICB0aGlzLmhpZGVNb2RhbCA9IGZ1bmN0aW9uKERPTVNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBqRWxlbSA9ICQoRE9NU2VsZWN0b3IpO1xuICAgICAgICBqRWxlbS5jc3MoJ29wYWNpdHknLCAnMCcpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgakVsZW0ucmVtb3ZlQ2xhc3MoJ21vZGFsLWFjdGl2ZScpO1xuICAgICAgICAgICAgakVsZW0uY3NzKCdvcGFjaXR5JywgJycpO1xuICAgICAgICB9LCAyMDApO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGpFbGVtKTtcbiAgICAgICAgaWYoakVsZW1bMF0uaWQgPT09ICdrZXliaW5kLW1vZGFsJykge1xuICAgICAgICAgICAgc2VsZi5rZXliaW5kTW9kYWwuc3RvcExpc3RlbigpO1xuICAgICAgICAgICAgJCgnI2tleWJpbmRpbmdzLXByb21wdCcpLmFkZENsYXNzKCdkLWhpZGRlbicpO1xuICAgICAgICAgICAgJCgnI2tleWJpbmRpbmdzLWNvbnRlbnQnKS5yZW1vdmVDbGFzcygnZC1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNob3dNb2RhbCA9IGZ1bmN0aW9uKERPTVNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBqRWxlbSA9ICQoRE9NU2VsZWN0b3IpO1xuICAgICAgICBqRWxlbS5jc3MoJ29wYWNpdHknLCAnMCcpO1xuICAgICAgICBqRWxlbS5hZGRDbGFzcygnbW9kYWwtYWN0aXZlJyk7XG4gICAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBhbmltYXRlIHRoaXMgcmlnaHQgaWYgdGhlcmUncyBubyBkZWxheSAoY2hyb21pdW0gaXMgdGhlIHNhbWUgd2F5LCBidXQgdGhlIHNldFRpbWVvdXQgY2FuIGJlIHNldCB0byAxKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgakVsZW0uY3NzKCdvcGFjaXR5JywgJzEwMCcpO1xuICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgaWYoakVsZW1bMF0uaWQgPT09ICdrZXliaW5kLW1vZGFsJykge1xuICAgICAgICAgICAgJCgnI2tleWJpbmRpbmdzLWNvbnRlbnQnKS5hZGRDbGFzcygnZC1oaWRkZW4nKTtcbiAgICAgICAgICAgICQoJyNrZXliaW5kaW5ncy1wcm9tcHQnKS5yZW1vdmVDbGFzcygnZC1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZVNvY2tldCA9IGZ1bmN0aW9uKG5ld1NvY2tldCkge1xuICAgICAgICBzZWxmLmNvbm5lY3Rpb24gPSBuZXdTb2NrZXQuc29ja2V0O1xuICAgICAgICBjb25uZWN0aW9uID0gbmV3U29ja2V0LnNvY2tldDtcbiAgICAgICAgc29ja2V0ID0gbmV3U29ja2V0O1xuICAgIH07XG5cbiAgICB0aGlzLmludmFsaWRVc2VybmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcjdXNlcm5hbWUtbW9kYWwtc3VidGl0bGUnKS5jc3MoJ2NvbG9yJywgJyNlNDJlMmUnKTtcbiAgICAgICAgJCgnLnVzZXJuYW1lLWdyb3VwJykuYWRkQ2xhc3MoJ3NoYWtlLWhvcml6b250YWwnKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJyN1c2VybmFtZS1tb2RhbC1zdWJ0aXRsZScpLmNzcygnY29sb3InLCAnJyk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcudXNlcm5hbWUtZ3JvdXAnKS5yZW1vdmVDbGFzcygnc2hha2UtaG9yaXpvbnRhbCcpO1xuICAgICAgICB9LCA5MDApO1xuICAgIH07XG5cbiAgICB0aGlzLnZhbGlkVXNlcm5hbWUgPSBmdW5jdGlvbihuZXdVc2VybmFtZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCBuZXdVc2VybmFtZSk7XG4gICAgICAgIHNlbGYuaGlkZU1vZGFsKCcubW9kYWwtYWN0aXZlJyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0VXNlcm5hbWUgPSBmdW5jdGlvbihuZXdVc2VybmFtZSkge1xuICAgICAgICBpZighc29ja2V0LnBlbmRpbmdWYWxpZGF0aW9uICYmIHNvY2tldC5yYXdTb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAgIHNvY2tldC5wZW5kaW5nVmFsaWRhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICBzb2NrZXQuc2VuZCgndXNlcm5hbWUnLCBuZXdVc2VybmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVPbmxpbmVVc2VycyA9IGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgICAgc2VsZi5vbmxpbmVVc2VycyA9IGxpc3Quc29ydCgpO1xuICAgICAgICBzZWxmLnVwZGF0ZVVzZXJMaXN0KCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVUdXJuTGlzdCA9IGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgICAgaWYobGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYSBjaGFuZ2UgaW4gd2hvIGhhcyBhIHR1cm5cbiAgICAgICAgICAgIGlmKGxpc3RbMF0gIT09IHNlbGYudHVyblF1ZXVlWzBdKVxuICAgICAgICAgICAgICAgIHNlbGYuYXBwZW5kTWVzc2FnZSgnJywgbGlzdFswXSArICcgbm93IGhhcyBhIHR1cm4uJywgJ2Fubm91bmNlbWVudCcpO1xuXG4gICAgICAgICAgICBpZihsaXN0WzBdID09PSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzVHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgJCgnI3NjcmVlbicpLmFkZENsYXNzKCd0dXJuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuaGFzVHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICQoJyNzY3JlZW4nKS5yZW1vdmVDbGFzcygndHVybicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5oYXNUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAkKCcjc2NyZWVuJykucmVtb3ZlQ2xhc3MoJ3R1cm4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYudHVyblF1ZXVlID0gbGlzdDtcblxuICAgICAgICBzZWxmLnVwZGF0ZVVzZXJMaXN0KCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVVc2VyTGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcjdXNlci1saXN0JykuZW1wdHkoKTtcbiAgICAgICAgc2VsZi50dXJuUXVldWUuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgICQoYDxkaXYgY2xhc3M9XCJ1c2VyLWxpc3QtaXRlbSB0dXJuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPmAgKyBlc2NhcGVIdG1sKHVzZXIpICsgYDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gKS5hcHBlbmRUbygnI3VzZXItbGlzdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLm9ubGluZVVzZXJzLnNvcnQoKTtcbiAgICAgICAgc2VsZi5vbmxpbmVVc2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgaWYoc2VsZi50dXJuUXVldWUuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwidXNlci1saXN0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPmAgKyBlc2NhcGVIdG1sKHVzZXIpICsgYDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCkuYXBwZW5kVG8oJyN1c2VyLWxpc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi51cGRhdGVVc2VyQ291bnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVVzZXJDb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgY291bnQgPSBzZWxmLm9ubGluZVVzZXJzLmxlbmd0aCxcbiAgICAgICAgICAgIHMgPSAnJztcbiAgICAgICAgaWYoY291bnQgPT09IDApXG4gICAgICAgICAgICBzICs9ICdObyBVc2Vycyc7XG4gICAgICAgIGVsc2UgaWYoY291bnQgPT09IDEpXG4gICAgICAgICAgICBzICs9ICcxIFVzZXInO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzICs9ICcnICsgY291bnQgKyAnIFVzZXJzJztcblxuICAgICAgICBzICs9ICcgT25saW5lJztcblxuICAgICAgICAkKCcjdXNlci1saXN0LXRpdGxlJykuY2hpbGRyZW4oKS5maXJzdCgpLnRleHQocyk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlRW11SW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcjbWluVXNlcm5hbWVMZW5ndGgnKS50ZXh0KHNvY2tldC5jdXJyZW50RW11Lm1pblVzZXJuYW1lTGVuZ3RoKTtcbiAgICAgICAgJCgnI21heFVzZXJuYW1lTGVuZ3RoJykudGV4dChzb2NrZXQuY3VycmVudEVtdS5tYXhVc2VybmFtZUxlbmd0aCk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXQtaW5wdXQtYm94JykubWF4TGVuZ3RoID0gc29ja2V0LmN1cnJlbnRFbXUubWF4TWVzc2FnZVNpemU7XG5cbiAgICAgICAgJCgnI3Jvb20taW5mbycpLnRleHQoc29ja2V0LmN1cnJlbnRFbXUubmFtZSk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkVXNlciA9IGZ1bmN0aW9uKHdobykge1xuICAgICAgICBzZWxmLm9ubGluZVVzZXJzLnB1c2god2hvKTtcbiAgICAgICAgc2VsZi5vbmxpbmVVc2Vycy5zb3J0KCk7XG4gICAgICAgIHNlbGYudXBkYXRlT25saW5lVXNlcnMoc2VsZi5vbmxpbmVVc2Vycyk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlVXNlciA9IGZ1bmN0aW9uKHdobykge1xuICAgICAgICBzZWxmLnVwZGF0ZU9ubGluZVVzZXJzKHNlbGYub25saW5lVXNlcnMuZmlsdGVyKHdvcmQgPT4gd29yZCAhPT0gd2hvKSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVuYW1lVXNlciA9IGZ1bmN0aW9uKHdobywgdG9XaGF0KSB7XG4gICAgICAgIGxldCBpID0gc2VsZi5vbmxpbmVVc2Vycy5pbmRleE9mKHdobyk7XG4gICAgICAgIGlmKGkgIT09IC0xKVxuICAgICAgICAgICAgc2VsZi5vbmxpbmVVc2Vyc1tpXSA9IHRvV2hhdDtcblxuICAgICAgICBsZXQgaiA9IHNlbGYudHVyblF1ZXVlLmluZGV4T2Yod2hvKTtcbiAgICAgICAgaWYoaiAhPT0gLTEpXG4gICAgICAgICAgICBzZWxmLnR1cm5RdWV1ZVtpXSA9IHRvV2hhdDtcblxuICAgICAgICBzZWxmLnVwZGF0ZVVzZXJMaXN0KCk7XG4gICAgfTtcblxuICAgIHRoaXMuZGlzcGxheUJpbmRpbmdzID0gZnVuY3Rpb24oZGV2aWNlSUQpIHtcbiAgICAgICAgJCgnI2tleWJpbmRpbmdzLXByb21wdCcpLmFkZENsYXNzKCdkLWhpZGRlbicpO1xuICAgICAgICAkKCcja2V5YmluZGluZ3MtY29udGVudCcpLnJlbW92ZUNsYXNzKCdkLWhpZGRlbicpO1xuXG4gICAgICAgIHZhciBjdXJyZW50TGF5b3V0ID0gc2VsZi5nYW1lcGFkTWFuYWdlci5nZXRMYXlvdXQoZGV2aWNlSUQpO1xuXG4gICAgICAgIGxldCBidXR0b25CaW5kcyA9IGN1cnJlbnRMYXlvdXQuYnV0dG9ucztcblxuICAgICAgICAkKCcja2V5YmluZGluZy1iaW5kcycpLmVtcHR5KCk7XG4gICAgICAgICQoJyNrZXliaW5kaW5nLWJpbmRzJykuYXBwZW5kKCc8Yj5CaW5kaW5nPC9iPicpO1xuICAgICAgICBmb3IobGV0IGkgaW4gYnV0dG9uQmluZHMpIHtcbiAgICAgICAgICAgIGxldCBidXR0b25OYW1lID0gYnV0dG9uQmluZHNbaV0ubmFtZTtcbiAgICAgICAgICAgIHZhciBiaW5kVGV4dDtcblxuICAgICAgICAgICAgaWYoYnV0dG9uQmluZHNbaV0uZGV2aWNlVmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBiaW5kVGV4dCA9ICcodW5tYXBwZWQpJztcbiAgICAgICAgICAgIGVsc2UgaWYoZGV2aWNlSUQgIT09ICdrZXlib2FyZCcpXG4gICAgICAgICAgICAgICAgYmluZFRleHQgPSAnQnV0dG9uICcgKyBidXR0b25CaW5kc1tpXS5kZXZpY2VWYWx1ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiaW5kVGV4dCA9IGJ1dHRvbkJpbmRzW2ldLmRldmljZVZhbHVlO1xuXG4gICAgICAgICAgICAkKCcja2V5YmluZGluZy1iaW5kcycpLmFwcGVuZCgnPGRpdiBpZD1cIicgKyBidXR0b25OYW1lICsgJ1wiIGNsYXNzPVwicHJlc3MtYS1rZXlcIj4nICsgYmluZFRleHQgKyAnPC9kaXY+Jyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJCgnLnByZXNzLWEta2V5JykuY2xpY2soZSA9PiB7XG4gICAgICAgICAgICBzZWxmLmtleWJpbmRNb2RhbC5jb25maWd1cmluZ0J1dHRvbiA9IGUudGFyZ2V0LmlkO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIG91dHNpZGUgYm94IG9mIG1vZGFsIGlzIGNsaWNrZWQsIGNsb3NlIGl0XG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5tb2RhbFwiLCBlID0+IHtcbiAgICAgICAgbGV0IHRhcmdldCA9ICQoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KTtcbiAgICAgICAgaWYgKHRhcmdldC5pcyhcIi5tb2RhbFwiKSkge1xuICAgICAgICAgICAgc2VsZi5oaWRlTW9kYWwoJy5tb2RhbC1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLm1vZGFsJykua2V5dXAoZSA9PiB7XG4gICAgICAgIGlmKGUud2hpY2ggPT09IDI3IC8qIEVzY2FwZSAqLykge1xuICAgICAgICAgICAgc2VsZi5oaWRlTW9kYWwoZS5kZWxlZ2F0ZVRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNrZXliaW5kaW5ncy1jYW5jZWwsI3VzZXJuYW1lLWNhbmNlbCcpLmNsaWNrKCgpID0+IHtcbiAgICAgICAgc2VsZi5rZXliaW5kTW9kYWwuc3RvcExpc3RlbigpO1xuICAgICAgICBzZWxmLmhpZGVNb2RhbCgnLm1vZGFsLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgJCgnI3VzZXJuYW1lLXN1Ym1pdCcpLmNsaWNrKCgpID0+IHtcbiAgICAgICAgc2VsZi5zZXRVc2VybmFtZSgkKCcjdXNlcm5hbWUtaW5wdXQnKS52YWwoKSk7XG4gICAgfSk7XG5cbiAgICAkKCcjc2V0dGluZ3MtdXNlcm5hbWUnKS5jbGljaygoKSA9PiB7XG4gICAgICAgIHNlbGYuc2hvd01vZGFsKCcjdXNlcm5hbWUtbW9kYWwnKTtcbiAgICAgICAgJCgnI3VzZXJuYW1lLWlucHV0JykudmFsKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpIHx8ICcnKTtcbiAgICB9KTtcblxuICAgICQoJyNzZXR0aW5ncy1rZXliaW5kaW5ncycpLmNsaWNrKGUgPT4ge1xuICAgICAgICBzZWxmLmtleWJpbmRNb2RhbC5zdGFydExpc3RlbigpO1xuICAgICAgICBzZWxmLnNob3dNb2RhbCgnI2tleWJpbmQtbW9kYWwnKTtcbiAgICB9KTtcblxuICAgIC8vIE9uIGVudGVyIChub3Qgc2hpZnQtZW50ZXIpLCBzZW5kIGNoYXRib3ggY29udGVudHMgYXMgYSBjaGF0IG1lc3NhZ2VcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1pbnB1dC1ib3gnKS5vbmtleXVwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZigoZS5rZXkgPT0gJ0VudGVyJykgfHwgKGUua2V5Q29kZSA9PSAxMykgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNlbGYuc2VuZENoYXRib3hDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPbiBlbnRlciwgc2V0IHVzZXJuYW1lXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lLWlucHV0Jykub25rZXl1cCA9IGUgPT4ge1xuICAgICAgICBpZihlLmtleSA9PSAnRW50ZXInIHx8IGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2VsZi5zZXRVc2VybmFtZSgkKCcjdXNlcm5hbWUtaW5wdXQnKS52YWwoKSB8fCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZW5kIGNoYXRib3ggY29udGVudHMgb24gc2VuZCBidXR0b24gY2xpY2tcbiAgICAkKCcjc2VuZC1idG4nKS5jbGljayhzZWxmLnNlbmRDaGF0Ym94Q29udGVudCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJykub25rZXlkb3duID0gZSA9PiB7XG4gICAgICAgIGlmKCFzZWxmLmhhc1R1cm4pIHJldHVybjtcbiAgICAgICAgaWYoS2V5Ym9hcmQua2V5QXNSZXRyb0lEW2Uua2V5XSAhPT0gdW5kZWZpbmVkICYmICFlLnJlcGVhdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc29ja2V0LnNlbmQoJ2J1dHRvbicsICdkb3duJywgS2V5Ym9hcmQua2V5QXNSZXRyb0lEW2Uua2V5XSArICcnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJykub25rZXl1cCA9IGUgPT4ge1xuICAgICAgICBpZighc2VsZi5oYXNUdXJuKSByZXR1cm47XG4gICAgICAgIGlmKEtleWJvYXJkLmtleUFzUmV0cm9JRFtlLmtleV0gIT09IHVuZGVmaW5lZCAmJiAhZS5yZXBlYXQpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdidXR0b24nLCAndXAnLCBLZXlib2FyZC5rZXlBc1JldHJvSURbZS5rZXldICsgJycpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICQoJyNzY3JlZW4nKS5jbGljayhlID0+IHtcbiAgICAgICAgaWYoIXNlbGYuaGFzVHVybilcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCd0dXJuJyk7XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIHRoZSBzZXR0aW5ncyBkaWFsb2d1ZSBpZiBhbnl0aGluZyBvdGhlciB0aGFuIHRoZSBuYXZiYXIgb3Igc2V0dGluZ3MgZGlhbG9ndWUgaXMgY2xpY2tlZFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXUtdmlldycpLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnNyY0VsZW1lbnQgfHwgZS50YXJnZXQ7XG4gICAgICAgIGlmKCh0YXJnZXQuaWQgIT0gJ3NldHRpbmdzLWJ0bicpICYmICh0YXJnZXQuY2xhc3NOYW1lICE9ICdtYXRlcmlhbC1pY29ucycpKVxuICAgICAgICAgICAgJCgnI3NldHRpbmdzLXBvcHVwJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9O1xuXG4gICAgLy8gU2hvdyB0aGUgc2V0dGluZ3MgZGlhbG9ndWUgd2hlbiB0aGUgc2V0dGluZ3MgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAkKCcjc2V0dGluZ3MtYnRuJykuY2xpY2soZSA9PiB7XG4gICAgICAgICQoJyNzZXR0aW5ncy1wb3B1cCcpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgfSk7XG5cbiAgICAkKCcjdXNlci1saXN0LWNsb3NlJykuY2xpY2soZSA9PiB7XG4gICAgICAgICQoJyN1c2VyLWxpc3QtcGFuZScpLnJlbW92ZUNsYXNzKCdkLWZsZXgnKTtcbiAgICAgICAgJCgnI2NoYXQtcGFuZScpLmFkZENsYXNzKCdkLWZsZXgnKTtcbiAgICB9KTtcblxuICAgICQoJyNsaXN0LWJ0bicpLmNsaWNrKGUgPT4ge1xuICAgICAgICAkKCcjY2hhdC1wYW5lJykucmVtb3ZlQ2xhc3MoJ2QtZmxleCcpO1xuICAgICAgICAkKCcjdXNlci1saXN0LXBhbmUnKS5hZGRDbGFzcygnZC1mbGV4Jyk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExldHNQbGF5Q2xpZW50O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/LetsPlayClient.js\n");

/***/ }),

/***/ "./src/js/LetsPlayConfig.js":
/*!**********************************!*\
  !*** ./src/js/LetsPlayConfig.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction LetsPlayConfig() {\n    var self = this;\n\n\n    /*var layoutExample =\n        {\n            'keyboard': {\n                buttons: [\n                    {\n                        name: 'B',\n                        deviceValue: 'Enter',\n                    }\n                ],\n                axes: [\n                    {\n                        name: 'Left Analog',\n                        deviceValue: 0\n                    }\n                ]\n            },\n            'Xbox One S Pad': {\n                buttons: [\n                    {\n                        name: 'B',\n                        deviceValue: 0\n                    },\n                    {\n                        name: 'A',\n                        deviceValue: 1\n                    }\n                ]\n            }\n        };*/\n\n    this.layout = JSON.parse(localStorage.getItem('layouts') || '{}');\n\n    this.reload = function() {\n        self.layout = JSON.parse(localStorage.getItem('layouts') || '{}');\n    }\n\n    this.save = function() {\n        localStorage.setItem('layouts', JSON.stringify(self.layout || {}));\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlayConfig);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlDb25maWcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGV0c1BsYXlDb25maWcuanM/NGNhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBMZXRzUGxheUNvbmZpZygpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuICAgIC8qdmFyIGxheW91dEV4YW1wbGUgPVxuICAgICAgICB7XG4gICAgICAgICAgICAna2V5Ym9hcmQnOiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VWYWx1ZTogJ0VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgYXhlczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTGVmdCBBbmFsb2cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlVmFsdWU6IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnWGJveCBPbmUgUyBQYWQnOiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VWYWx1ZTogMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQScsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VWYWx1ZTogMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9OyovXG5cbiAgICB0aGlzLmxheW91dCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xheW91dHMnKSB8fCAne30nKTtcblxuICAgIHRoaXMucmVsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYubGF5b3V0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGF5b3V0cycpIHx8ICd7fScpO1xuICAgIH1cblxuICAgIHRoaXMuc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGF5b3V0cycsIEpTT04uc3RyaW5naWZ5KHNlbGYubGF5b3V0IHx8IHt9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZXRzUGxheUNvbmZpZztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/LetsPlayConfig.js\n");

/***/ }),

/***/ "./src/js/LetsPlayProtocol.js":
/*!************************************!*\
  !*** ./src/js/LetsPlayProtocol.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst LetsPlayProtocol = {\n    encode: function(cypher) {\n        let command = \"\";\n        for (var i = 0; i < cypher.length; i++) {\n            var current = cypher[i] || '';\n            command += current.length + \".\" + current;\n            command += (i < cypher.length - 1 ? \",\" : \";\");\n        }\n        return command;\n    },\n    decode: function(string) {\n        var pos = -1,\n            sections = [];\n        for (let i =0;i < 25;++i) {\n            var len = string.indexOf('.', pos + 1);\n            if (len == -1) {\n                break;\n            }\n            pos = parseInt(string.slice(pos + 1, len)) + len + 1;\n            sections.push(string.slice(len + 1, pos)\n                .replace(/&#x27;/g, \"'\")\n                .replace(/&quot;/g, '\"')\n                .replace(/&#x2F;/g, '/')\n                .replace(/&lt;/g, '<')\n                .replace(/&gt;/g, '>')\n                .replace(/&amp;/g, '&')\n            )\n            if (string.slice(pos, pos + 1) == ';') {\n                break;\n            }\n        }\n        return sections;\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlayProtocol);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlQcm90b2NvbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9MZXRzUGxheVByb3RvY29sLmpzP2RhM2UiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTGV0c1BsYXlQcm90b2NvbCA9IHtcbiAgICBlbmNvZGU6IGZ1bmN0aW9uKGN5cGhlcikge1xuICAgICAgICBsZXQgY29tbWFuZCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3lwaGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IGN5cGhlcltpXSB8fCAnJztcbiAgICAgICAgICAgIGNvbW1hbmQgKz0gY3VycmVudC5sZW5ndGggKyBcIi5cIiArIGN1cnJlbnQ7XG4gICAgICAgICAgICBjb21tYW5kICs9IChpIDwgY3lwaGVyLmxlbmd0aCAtIDEgPyBcIixcIiA6IFwiO1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICB9LFxuICAgIGRlY29kZTogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHZhciBwb3MgPSAtMSxcbiAgICAgICAgICAgIHNlY3Rpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPTA7aSA8IDI1OysraSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHN0cmluZy5pbmRleE9mKCcuJywgcG9zICsgMSk7XG4gICAgICAgICAgICBpZiAobGVuID09IC0xKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBwYXJzZUludChzdHJpbmcuc2xpY2UocG9zICsgMSwgbGVuKSkgKyBsZW4gKyAxO1xuICAgICAgICAgICAgc2VjdGlvbnMucHVzaChzdHJpbmcuc2xpY2UobGVuICsgMSwgcG9zKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyNzsvZywgXCInXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyRjsvZywgJy8nKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJmd0Oy9nLCAnPicpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZhbXA7L2csICcmJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChzdHJpbmcuc2xpY2UocG9zLCBwb3MgKyAxKSA9PSAnOycpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbnM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZXRzUGxheVByb3RvY29sO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/LetsPlayProtocol.js\n");

/***/ }),

/***/ "./src/js/LetsPlaySocket.js":
/*!**********************************!*\
  !*** ./src/js/LetsPlaySocket.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _LetsPlayProtocol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LetsPlayProtocol.js */ \"./src/js/LetsPlayProtocol.js\");\n/* harmony import */ var _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RetroJoypad.js */ \"./src/js/RetroJoypad.js\");\n\n\n\nfunction LetsPlaySocket(wsURI, client) {\n    var self = this;\n\n    this.currentEmu = {\n        name: 'emu1',\n        maxMessageSize: undefined,\n        minUsernameLength: undefined,\n        maxUsernameLength: undefined,\n        turnLength: undefined // ms\n    };\n\n    var username = localStorage.getItem('username') || '';\n    this.pendingValidation = false;\n\n    this.send = function() {\n        if(rawSocket.readyState === WebSocket.OPEN) {\n            let message = _LetsPlayProtocol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].encode(arguments);\n            console.log('>> ' + message);\n            rawSocket.send(message);\n        }\n    };\n\n    /**\n     * Function called when the server emits a chat command. Updates the chat list in the html to the new content after unescaping unicode and hex sequences in the message.\n     */\n    this.onChat = function(command) {\n        let message = command[2].replace(/(\\\\x[\\da-f]{2}|\\\\u[\\da-f]{4}|\\\\u{1[\\da-f]{4}})+/g, function a(x) {\n                return eval(\"'\" + x + \"'\")\n        });\n        client.appendMessage(command[1], message);\n    };\n\n    /**\n     * Function called when the server emits a list command.\n     */\n    this.onList = function(command) {\n        client.updateOnlineUsers(command.slice(1));\n    };\n\n    /**\n     * Function called when the server emits a username command\n     */\n    this.onUsername = function(command) {\n        if(self.pendingValidation) {\n            console.log(command);\n\n            if(command[1] == command[2]) // No username changed, it was invalid\n                client.invalidUsername();\n            else\n                client.validUsername(command[2]);\n\n            self.pendingValidation = false;\n        }\n    };\n\n    this.onJoin = function(command) {\n        console.log(command);\n        client.addUser(command[1]);\n        client.appendMessage('', command[1] + ' has joined.', 'announcement');\n    }\n\n    this.onLeave = function(command) {\n        client.removeUser(command[1]);\n        client.appendMessage('', command[1] + ' has left.', 'announcement');\n    }\n\n    this.onConnect = function(command) {\n        if(command[1] === '1') {\n            self.send('list');\n        }\n    }\n\n    this.onRename = function(command) {\n        client.renameUser(command[1], command[2]);\n        client.appendMessage('', command[1] + ' is now known as ' + command[2] + '.', 'announcement');\n    }\n\n    this.onEmuInfo = function(command) {\n        self.currentEmu.minUsernameLength = command[1];\n        self.currentEmu.maxUsernameLength = command[2];\n        self.currentEmu.maxMessageSize = command[3];\n        // self.currentEmu.turnLength = command[4];\n        self.currentEmu.name = command[4];\n\n        client.updateEmuInfo();\n    }\n\n    this.onPing = function(command) {\n        self.send('pong');\n    }\n\n    this.onTurns = function(command) {\n        client.updateTurnList(command.slice(1));\n    }\n\n    var rawSocket = new WebSocket(wsURI);\n    this.rawSocket = rawSocket;\n    rawSocket.binaryType = 'arraybuffer';\n\n    rawSocket.onopen = function() {\n        console.log('Connection opened');\n        client.setUsername(localStorage.getItem('username'));\n        self.send('connect', self.currentEmu.name);\n    };\n\n    rawSocket.onclose = function() {\n        // TODO: Set client to error state (buttons disabled and stuff) and init reconnect process\n        console.log('Connection closed.');\n    };\n\n    rawSocket.onerror = function() {\n        console.log('Connection error.');\n    };\n\n    rawSocket.onmessage = function(event) {\n        // Binary message type\n        if(event.data instanceof ArrayBuffer) {\n            client.display.update(event.data);\n        } else { // Plaintext message type\n            console.log('<< ' + event.data);\n            let command = _LetsPlayProtocol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].decode(event.data);\n            if(command.length == 0)\n                return;\n\n            switch(command[0]) {\n                case \"chat\":\n                    self.onChat(command);\n                    break;\n                case \"list\":\n                    self.onList(command);\n                    break;\n                case \"username\":\n                    self.onUsername(command);\n                    break;\n                case \"join\":\n                    self.onJoin(command);\n                    break;\n                case \"leave\":\n                    self.onLeave(command);\n                    break;\n                case \"connect\":\n                    self.onConnect(command);\n                    break;\n                case \"rename\":\n                    self.onRename(command);\n                    break;\n                case \"emuinfo\":\n                    self.onEmuInfo(command);\n                    break;\n                case \"ping\":\n                    self.onPing(command);\n                    break;\n                case \"turns\":\n                    self.onTurns(command);\n                    break;\n                default:\n                    console.log(\"Unimplemented command: \" + command[0]);\n            }\n        }\n    };\n\n    // gamepadButtonRelease -- Button released\n    // gamepadButtonPress -- Button pressed\n    // gamepadAxesUpdate -- Axes changed\n    window.addEventListener('gamepadButtonRelease', function(evt) {\n        if(client.keybindModal.listening)\n            return;\n\n        let layout = client.gamepadManager.getLayout(evt.detail.id);\n        console.log(layout, evt.detail.id);\n\n        let buttonName;\n        for(let i in layout.buttons) {\n            if(layout.buttons[i].deviceValue === evt.detail.button) {\n                buttonName = layout.buttons[i].name;\n                break;\n            }\n        }\n\n        let retroID = _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"][buttonName] + '';\n\n        console.log('release', evt.detail.button);\n        client.appendMessage('[GamepadAPI]', 'release ' + buttonName, 'announcement');\n        self.send('button', 'up', retroID);\n    });\n\n    window.addEventListener('gamepadButtonPress', function(evt) {\n        if(client.keybindModal.listening)\n            return;\n\n        let layout = client.gamepadManager.getLayout(evt.detail.id);\n\n        let buttonName;\n        for(let i in layout.buttons) {\n            if(layout.buttons[i].deviceValue === evt.detail.button) {\n                buttonName = layout.buttons[i].name;\n                break;\n            }\n        }\n\n        let retroID = _RetroJoypad_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"][buttonName] + '';\n\n        console.log('press', evt.detail.button);\n        client.appendMessage('[GamepadAPI]', 'press ' + buttonName, 'announcement');\n        self.send('button', 'down', retroID);\n    });\n\n    window.addEventListener('gamepadAxesUpdate', function(evt) {\n        client.appendMessage('[GamepadAPI]', 'analog ' + evt.detail.axes + ' ' + evt.detail.value.old + ' -> ' + evt.detail.value.new, 'announcement');\n        // TODO: Send analog values\n        // button, axes, buttonID, value (int16 value, +-32768?)\n        // Check if cores translate analog button values correctly or if own algorithm has to be implememted (advanced settings checkbox thing?)\n    });\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LetsPlaySocket);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTGV0c1BsYXlTb2NrZXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvTGV0c1BsYXlTb2NrZXQuanM/ZTQ2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGV0c1BsYXlQcm90b2NvbCBmcm9tICcuL0xldHNQbGF5UHJvdG9jb2wuanMnXG5pbXBvcnQgUmV0cm9Kb3lwYWQgZnJvbSAnLi9SZXRyb0pveXBhZC5qcydcblxuZnVuY3Rpb24gTGV0c1BsYXlTb2NrZXQod3NVUkksIGNsaWVudCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuY3VycmVudEVtdSA9IHtcbiAgICAgICAgbmFtZTogJ2VtdTEnLFxuICAgICAgICBtYXhNZXNzYWdlU2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICBtaW5Vc2VybmFtZUxlbmd0aDogdW5kZWZpbmVkLFxuICAgICAgICBtYXhVc2VybmFtZUxlbmd0aDogdW5kZWZpbmVkLFxuICAgICAgICB0dXJuTGVuZ3RoOiB1bmRlZmluZWQgLy8gbXNcbiAgICB9O1xuXG4gICAgdmFyIHVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJykgfHwgJyc7XG4gICAgdGhpcy5wZW5kaW5nVmFsaWRhdGlvbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHJhd1NvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBMZXRzUGxheVByb3RvY29sLmVuY29kZShhcmd1bWVudHMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJz4+ICcgKyBtZXNzYWdlKTtcbiAgICAgICAgICAgIHJhd1NvY2tldC5zZW5kKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBzZXJ2ZXIgZW1pdHMgYSBjaGF0IGNvbW1hbmQuIFVwZGF0ZXMgdGhlIGNoYXQgbGlzdCBpbiB0aGUgaHRtbCB0byB0aGUgbmV3IGNvbnRlbnQgYWZ0ZXIgdW5lc2NhcGluZyB1bmljb2RlIGFuZCBoZXggc2VxdWVuY2VzIGluIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIHRoaXMub25DaGF0ID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGNvbW1hbmRbMl0ucmVwbGFjZSgvKFxcXFx4W1xcZGEtZl17Mn18XFxcXHVbXFxkYS1mXXs0fXxcXFxcdXsxW1xcZGEtZl17NH19KSsvZywgZnVuY3Rpb24gYSh4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2YWwoXCInXCIgKyB4ICsgXCInXCIpXG4gICAgICAgIH0pO1xuICAgICAgICBjbGllbnQuYXBwZW5kTWVzc2FnZShjb21tYW5kWzFdLCBtZXNzYWdlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHNlcnZlciBlbWl0cyBhIGxpc3QgY29tbWFuZC5cbiAgICAgKi9cbiAgICB0aGlzLm9uTGlzdCA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgY2xpZW50LnVwZGF0ZU9ubGluZVVzZXJzKGNvbW1hbmQuc2xpY2UoMSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgc2VydmVyIGVtaXRzIGEgdXNlcm5hbWUgY29tbWFuZFxuICAgICAqL1xuICAgIHRoaXMub25Vc2VybmFtZSA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgaWYoc2VsZi5wZW5kaW5nVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY29tbWFuZCk7XG5cbiAgICAgICAgICAgIGlmKGNvbW1hbmRbMV0gPT0gY29tbWFuZFsyXSkgLy8gTm8gdXNlcm5hbWUgY2hhbmdlZCwgaXQgd2FzIGludmFsaWRcbiAgICAgICAgICAgICAgICBjbGllbnQuaW52YWxpZFVzZXJuYW1lKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2xpZW50LnZhbGlkVXNlcm5hbWUoY29tbWFuZFsyXSk7XG5cbiAgICAgICAgICAgIHNlbGYucGVuZGluZ1ZhbGlkYXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uSm9pbiA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgY29uc29sZS5sb2coY29tbWFuZCk7XG4gICAgICAgIGNsaWVudC5hZGRVc2VyKGNvbW1hbmRbMV0pO1xuICAgICAgICBjbGllbnQuYXBwZW5kTWVzc2FnZSgnJywgY29tbWFuZFsxXSArICcgaGFzIGpvaW5lZC4nLCAnYW5ub3VuY2VtZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5vbkxlYXZlID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICBjbGllbnQucmVtb3ZlVXNlcihjb21tYW5kWzFdKTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJycsIGNvbW1hbmRbMV0gKyAnIGhhcyBsZWZ0LicsICdhbm5vdW5jZW1lbnQnKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uQ29ubmVjdCA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgaWYoY29tbWFuZFsxXSA9PT0gJzEnKSB7XG4gICAgICAgICAgICBzZWxmLnNlbmQoJ2xpc3QnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub25SZW5hbWUgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIGNsaWVudC5yZW5hbWVVc2VyKGNvbW1hbmRbMV0sIGNvbW1hbmRbMl0pO1xuICAgICAgICBjbGllbnQuYXBwZW5kTWVzc2FnZSgnJywgY29tbWFuZFsxXSArICcgaXMgbm93IGtub3duIGFzICcgKyBjb21tYW5kWzJdICsgJy4nLCAnYW5ub3VuY2VtZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5vbkVtdUluZm8gPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIHNlbGYuY3VycmVudEVtdS5taW5Vc2VybmFtZUxlbmd0aCA9IGNvbW1hbmRbMV07XG4gICAgICAgIHNlbGYuY3VycmVudEVtdS5tYXhVc2VybmFtZUxlbmd0aCA9IGNvbW1hbmRbMl07XG4gICAgICAgIHNlbGYuY3VycmVudEVtdS5tYXhNZXNzYWdlU2l6ZSA9IGNvbW1hbmRbM107XG4gICAgICAgIC8vIHNlbGYuY3VycmVudEVtdS50dXJuTGVuZ3RoID0gY29tbWFuZFs0XTtcbiAgICAgICAgc2VsZi5jdXJyZW50RW11Lm5hbWUgPSBjb21tYW5kWzRdO1xuXG4gICAgICAgIGNsaWVudC51cGRhdGVFbXVJbmZvKCk7XG4gICAgfVxuXG4gICAgdGhpcy5vblBpbmcgPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIHNlbGYuc2VuZCgncG9uZycpO1xuICAgIH1cblxuICAgIHRoaXMub25UdXJucyA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgY2xpZW50LnVwZGF0ZVR1cm5MaXN0KGNvbW1hbmQuc2xpY2UoMSkpO1xuICAgIH1cblxuICAgIHZhciByYXdTb2NrZXQgPSBuZXcgV2ViU29ja2V0KHdzVVJJKTtcbiAgICB0aGlzLnJhd1NvY2tldCA9IHJhd1NvY2tldDtcbiAgICByYXdTb2NrZXQuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICByYXdTb2NrZXQub25vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIG9wZW5lZCcpO1xuICAgICAgICBjbGllbnQuc2V0VXNlcm5hbWUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJykpO1xuICAgICAgICBzZWxmLnNlbmQoJ2Nvbm5lY3QnLCBzZWxmLmN1cnJlbnRFbXUubmFtZSk7XG4gICAgfTtcblxuICAgIHJhd1NvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRPRE86IFNldCBjbGllbnQgdG8gZXJyb3Igc3RhdGUgKGJ1dHRvbnMgZGlzYWJsZWQgYW5kIHN0dWZmKSBhbmQgaW5pdCByZWNvbm5lY3QgcHJvY2Vzc1xuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBjbG9zZWQuJyk7XG4gICAgfTtcblxuICAgIHJhd1NvY2tldC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIGVycm9yLicpO1xuICAgIH07XG5cbiAgICByYXdTb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gQmluYXJ5IG1lc3NhZ2UgdHlwZVxuICAgICAgICBpZihldmVudC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGNsaWVudC5kaXNwbGF5LnVwZGF0ZShldmVudC5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gUGxhaW50ZXh0IG1lc3NhZ2UgdHlwZVxuICAgICAgICAgICAgY29uc29sZS5sb2coJzw8ICcgKyBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIGxldCBjb21tYW5kID0gTGV0c1BsYXlQcm90b2NvbC5kZWNvZGUoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBpZihjb21tYW5kLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgc3dpdGNoKGNvbW1hbmRbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hhdFwiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uQ2hhdChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkxpc3QoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1c2VybmFtZVwiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uVXNlcm5hbWUoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJqb2luXCI6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub25Kb2luKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibGVhdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkxlYXZlKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29ubmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uQ29ubmVjdChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlbmFtZVwiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uUmVuYW1lKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW11aW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uRW11SW5mbyhjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vblBpbmcoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXJuc1wiOlxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uVHVybnMoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5pbXBsZW1lbnRlZCBjb21tYW5kOiBcIiArIGNvbW1hbmRbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGdhbWVwYWRCdXR0b25SZWxlYXNlIC0tIEJ1dHRvbiByZWxlYXNlZFxuICAgIC8vIGdhbWVwYWRCdXR0b25QcmVzcyAtLSBCdXR0b24gcHJlc3NlZFxuICAgIC8vIGdhbWVwYWRBeGVzVXBkYXRlIC0tIEF4ZXMgY2hhbmdlZFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdnYW1lcGFkQnV0dG9uUmVsZWFzZScsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZihjbGllbnQua2V5YmluZE1vZGFsLmxpc3RlbmluZylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBsZXQgbGF5b3V0ID0gY2xpZW50LmdhbWVwYWRNYW5hZ2VyLmdldExheW91dChldnQuZGV0YWlsLmlkKTtcbiAgICAgICAgY29uc29sZS5sb2cobGF5b3V0LCBldnQuZGV0YWlsLmlkKTtcblxuICAgICAgICBsZXQgYnV0dG9uTmFtZTtcbiAgICAgICAgZm9yKGxldCBpIGluIGxheW91dC5idXR0b25zKSB7XG4gICAgICAgICAgICBpZihsYXlvdXQuYnV0dG9uc1tpXS5kZXZpY2VWYWx1ZSA9PT0gZXZ0LmRldGFpbC5idXR0b24pIHtcbiAgICAgICAgICAgICAgICBidXR0b25OYW1lID0gbGF5b3V0LmJ1dHRvbnNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXRyb0lEID0gUmV0cm9Kb3lwYWRbYnV0dG9uTmFtZV0gKyAnJztcblxuICAgICAgICBjb25zb2xlLmxvZygncmVsZWFzZScsIGV2dC5kZXRhaWwuYnV0dG9uKTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJ1tHYW1lcGFkQVBJXScsICdyZWxlYXNlICcgKyBidXR0b25OYW1lLCAnYW5ub3VuY2VtZW50Jyk7XG4gICAgICAgIHNlbGYuc2VuZCgnYnV0dG9uJywgJ3VwJywgcmV0cm9JRCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZEJ1dHRvblByZXNzJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmKGNsaWVudC5rZXliaW5kTW9kYWwubGlzdGVuaW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGxldCBsYXlvdXQgPSBjbGllbnQuZ2FtZXBhZE1hbmFnZXIuZ2V0TGF5b3V0KGV2dC5kZXRhaWwuaWQpO1xuXG4gICAgICAgIGxldCBidXR0b25OYW1lO1xuICAgICAgICBmb3IobGV0IGkgaW4gbGF5b3V0LmJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGlmKGxheW91dC5idXR0b25zW2ldLmRldmljZVZhbHVlID09PSBldnQuZGV0YWlsLmJ1dHRvbikge1xuICAgICAgICAgICAgICAgIGJ1dHRvbk5hbWUgPSBsYXlvdXQuYnV0dG9uc1tpXS5uYW1lO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJldHJvSUQgPSBSZXRyb0pveXBhZFtidXR0b25OYW1lXSArICcnO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdwcmVzcycsIGV2dC5kZXRhaWwuYnV0dG9uKTtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJ1tHYW1lcGFkQVBJXScsICdwcmVzcyAnICsgYnV0dG9uTmFtZSwgJ2Fubm91bmNlbWVudCcpO1xuICAgICAgICBzZWxmLnNlbmQoJ2J1dHRvbicsICdkb3duJywgcmV0cm9JRCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZXBhZEF4ZXNVcGRhdGUnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgY2xpZW50LmFwcGVuZE1lc3NhZ2UoJ1tHYW1lcGFkQVBJXScsICdhbmFsb2cgJyArIGV2dC5kZXRhaWwuYXhlcyArICcgJyArIGV2dC5kZXRhaWwudmFsdWUub2xkICsgJyAtPiAnICsgZXZ0LmRldGFpbC52YWx1ZS5uZXcsICdhbm5vdW5jZW1lbnQnKTtcbiAgICAgICAgLy8gVE9ETzogU2VuZCBhbmFsb2cgdmFsdWVzXG4gICAgICAgIC8vIGJ1dHRvbiwgYXhlcywgYnV0dG9uSUQsIHZhbHVlIChpbnQxNiB2YWx1ZSwgKy0zMjc2OD8pXG4gICAgICAgIC8vIENoZWNrIGlmIGNvcmVzIHRyYW5zbGF0ZSBhbmFsb2cgYnV0dG9uIHZhbHVlcyBjb3JyZWN0bHkgb3IgaWYgb3duIGFsZ29yaXRobSBoYXMgdG8gYmUgaW1wbGVtZW10ZWQgKGFkdmFuY2VkIHNldHRpbmdzIGNoZWNrYm94IHRoaW5nPylcbiAgICB9KTtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBMZXRzUGxheVNvY2tldDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/LetsPlaySocket.js\n");

/***/ }),

/***/ "./src/js/Main.js":
/*!************************!*\
  !*** ./src/js/Main.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _LetsPlayClient_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LetsPlayClient.js */ \"./src/js/LetsPlayClient.js\");\n/* harmony import */ var _LetsPlaySocket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LetsPlaySocket.js */ \"./src/js/LetsPlaySocket.js\");\n\n\n\n$('document').ready(function() {\n    var client = new _LetsPlayClient_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    var connection = new _LetsPlaySocket_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('ws://' + prompt('Dev server uri', window.location.hostname + ':3074'), client);\n    client.updateSocket(connection);\n\n    // Expose most of the application for userscripts to extend and for debugging\n    global.LetsPlay = {\n        Client: client,\n        Socket: connection\n    };\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvTWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9NYWluLmpzP2JhNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExldHNQbGF5Q2xpZW50IGZyb20gJy4vTGV0c1BsYXlDbGllbnQuanMnXG5pbXBvcnQgTGV0c1BsYXlTb2NrZXQgZnJvbSAnLi9MZXRzUGxheVNvY2tldC5qcydcblxuJCgnZG9jdW1lbnQnKS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICB2YXIgY2xpZW50ID0gbmV3IExldHNQbGF5Q2xpZW50KCk7XG4gICAgdmFyIGNvbm5lY3Rpb24gPSBuZXcgTGV0c1BsYXlTb2NrZXQoJ3dzOi8vJyArIHByb21wdCgnRGV2IHNlcnZlciB1cmknLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnOjMwNzQnKSwgY2xpZW50KTtcbiAgICBjbGllbnQudXBkYXRlU29ja2V0KGNvbm5lY3Rpb24pO1xuXG4gICAgLy8gRXhwb3NlIG1vc3Qgb2YgdGhlIGFwcGxpY2F0aW9uIGZvciB1c2Vyc2NyaXB0cyB0byBleHRlbmQgYW5kIGZvciBkZWJ1Z2dpbmdcbiAgICBnbG9iYWwuTGV0c1BsYXkgPSB7XG4gICAgICAgIENsaWVudDogY2xpZW50LFxuICAgICAgICBTb2NrZXQ6IGNvbm5lY3Rpb25cbiAgICB9O1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/Main.js\n");

/***/ }),

/***/ "./src/js/RetroJoypad.js":
/*!*******************************!*\
  !*** ./src/js/RetroJoypad.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Map for storing the button name -> RetroPad ID relation. RetroPad IDs are based on those found in libretro.h\n * @see {@link https://github.com/libretro/RetroArch/blob/9c0ed0f2c4182f3df543a54881e68bb12cf2ed68/libretro-common/include/libretro.h#L186|LibRetro.h on GitHub} for RetroJoypad IDs.\n * @const\n */\nconst RetroJoypad = Object.freeze({\n    'B': 0,\n    'Y': 1,\n    'Select': 2,\n    'Start': 3,\n    'Up': 4,\n    'Down': 5,\n    'Left': 6,\n    'Right': 7,\n    'A': 8,\n    'X': 9,\n    'L': 10,\n    'R': 11,\n    'L2': 12,\n    'R2': 13,\n    'L3': 14,\n    'R3': 15\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RetroJoypad);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvUmV0cm9Kb3lwYWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvUmV0cm9Kb3lwYWQuanM/YjBlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1hcCBmb3Igc3RvcmluZyB0aGUgYnV0dG9uIG5hbWUgLT4gUmV0cm9QYWQgSUQgcmVsYXRpb24uIFJldHJvUGFkIElEcyBhcmUgYmFzZWQgb24gdGhvc2UgZm91bmQgaW4gbGlicmV0cm8uaFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2xpYnJldHJvL1JldHJvQXJjaC9ibG9iLzljMGVkMGYyYzQxODJmM2RmNTQzYTU0ODgxZTY4YmIxMmNmMmVkNjgvbGlicmV0cm8tY29tbW9uL2luY2x1ZGUvbGlicmV0cm8uaCNMMTg2fExpYlJldHJvLmggb24gR2l0SHVifSBmb3IgUmV0cm9Kb3lwYWQgSURzLlxuICogQGNvbnN0XG4gKi9cbmNvbnN0IFJldHJvSm95cGFkID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgJ0InOiAwLFxuICAgICdZJzogMSxcbiAgICAnU2VsZWN0JzogMixcbiAgICAnU3RhcnQnOiAzLFxuICAgICdVcCc6IDQsXG4gICAgJ0Rvd24nOiA1LFxuICAgICdMZWZ0JzogNixcbiAgICAnUmlnaHQnOiA3LFxuICAgICdBJzogOCxcbiAgICAnWCc6IDksXG4gICAgJ0wnOiAxMCxcbiAgICAnUic6IDExLFxuICAgICdMMic6IDEyLFxuICAgICdSMic6IDEzLFxuICAgICdMMyc6IDE0LFxuICAgICdSMyc6IDE1XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmV0cm9Kb3lwYWQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/RetroJoypad.js\n");

/***/ })

/******/ });